var d=Object.defineProperty;var a=(_,t)=>d(_,"name",{value:t,configurable:!0});export default class g{static{a(this,"MountainCarRenderer")}constructor(t){this.renderer=t}init(t){this._envrenderer=new p(this.renderer.env,{width:this.renderer.width,height:this.renderer.height,g:t}),this._envrenderer.init()}render(){this._envrenderer.render()}}class p{static{a(this,"Renderer")}constructor(t,e={}){this.env=t,this._size=[e.width||200,e.height||200],this._cart_size=[50,30],this._scale=300,this._upon=10,this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.setAttribute("width",this._size[0]),this.svg.setAttribute("height",this._size[1]),this.svg.setAttribute("viewbox","0 0 200 200"),e.g&&e.g.replaceChildren(this.svg)}init(){const t=this._size[0],e=this._size[1],s=[],r=(this.env._max_position-this.env._min_position)/100,h=((this.env._max_position+this.env._min_position)*this._scale-t)/2;for(let i=0;i<100;i++){const l=this.env._min_position+r*i;s.push([l*this._scale-h,e-this._height(l)*this._scale])}s.push([this.env._max_position*this._scale-h,e-this._height(this.env._max_position)*this._scale]);let c="";for(let i=0;i<s.length;i++)c+=`${i===0?"M":"L"}${s[i][0]},${s[i][1]}`;const o=document.createElementNS("http://www.w3.org/2000/svg","path");o.setAttribute("stroke","black"),o.setAttribute("fill-opacity",0),o.setAttribute("d",c),this.svg.appendChild(o);const n=document.createElementNS("http://www.w3.org/2000/svg","rect");n.setAttribute("width",this._cart_size[0]),n.setAttribute("height",this._cart_size[1]),n.setAttribute("fill","gray"),n.style.transformBox="fill-box",n.style.transformOrigin="center",this.svg.appendChild(n)}_height(t){return Math.sin(3*t)*.45+.55}render(){const t=this._size[0],e=this._size[1],s=((this.env._max_position+this.env._min_position)*this._scale-t)/2,r=Math.atan(-.45*3*Math.cos(3*this.env._position)),h=this.svg.querySelector("rect");h.setAttribute("x",this.env._position*this._scale-s-this._cart_size[0]/2+Math.sin(r)*this._upon),h.setAttribute("y",e-this._cart_size[1]-this._height(this.env._position)*this._scale-Math.cos(r)*this._upon),h.style.transform=`rotate(${r*360/(2*Math.PI)+180}deg)`}}
