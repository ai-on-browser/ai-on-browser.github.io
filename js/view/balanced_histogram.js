var d=Object.defineProperty;var n=(t,e)=>d(t,"name",{value:e,configurable:!0});import u from"../../lib/model/balanced_histogram.js";import g from"../controller.js";import{specialCategory as h}from"../utils.js";export default function m(t){t.setting.ml.usage='Click "Fit" button.',t.setting.ml.reference={title:"Balanced histogram thresholding (Wikipedia)",url:"https://en.wikipedia.org/wiki/Balanced_histogram_thresholding"},t.colorSpace="gray";const e=new g(t),i=n(()=>{const r=t._step;t._step=1;const o=new u(s.value),c=o.predict(t.trainInput.flat(2));l.value=o._t,t.trainResult=c.map(a=>h.density(1-a)),t._step=r},"fitModel"),s=e.input.number({label:" ignore min count ",min:0,max:1e4,value:100}).on("change",i);e.input.button("Fit").on("click",i);const l=e.text({label:" Estimated threshold "})}n(m,"default");
