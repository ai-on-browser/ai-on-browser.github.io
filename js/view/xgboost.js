import{XGBoost,XGBoostClassifier}from"../../lib/model/xgboost.js";import Controller from"../controller.js";var dispXGBoost=function(t,e){const a=new Controller(e),n=e.task;let r=null;t.append("span").text(" max depth = "),t.append("input").attr("type","number").attr("name","maxd").attr("value",1).attr("min",1).attr("max",10),t.append("span").text(" Sampling rate "),t.append("input").attr("type","number").attr("name","srate").property("value",.8).attr("min",.1).attr("max",1).attr("step",.1),t.append("span").text(" lambda = "),t.append("input").attr("type","number").attr("name","lambda").attr("value",.1).attr("min",.1).attr("max",10).attr("step",.1),t.append("span").text(" learning rate = "),t.append("input").attr("type","number").attr("name","lr").attr("value",.1).attr("min",0).attr("max",10).attr("step",.1);const p=a.stepLoopButtons().init((()=>{r=null,e.init()}));t.append("span").text(" Iteration "),t.append("input").attr("type","number").attr("name","itr").attr("value",1).attr("min",1).attr("max",100),p.step((a=>{const p=+t.select("[name=lambda]").property("value"),i=+t.select("[name=lr]").property("value"),l=+t.select("[name=maxd]").property("value"),o=+t.select("[name=itr]").property("value"),s=+t.select("input[name=srate]").property("value");r||("CF"===n?(r=new XGBoostClassifier(l,s,p,i),r.init(e.trainInput,e.trainOutput.map((t=>t[0])))):(r=new XGBoost(l,s,p,i),r.init(e.trainInput,e.trainOutput)));for(let t=0;t<o;t++)r.fit();let m=r.predict(e.testInput(4));e.testResult(m),a&&a()})).epoch((()=>r.size))};export default function(t){t.setting.ml.usage='Click and add data point. Next, click "Fit" button.',dispXGBoost(t.setting.ml.configElement,t)}