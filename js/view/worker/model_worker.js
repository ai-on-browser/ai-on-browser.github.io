var f=Object.defineProperty;var i=(e,s)=>f(e,"name",{value:s,configurable:!0});import n from"../../../lib/util/matrix.js";import a from"../../../lib/util/tensor.js";self.imported={},self.model=null,self.addEventListener("message",async e=>{const s=e.data,l=s.name;if(self.imported[l]||(self.imported[l]=(await import(`../../../lib/model/${l}.js`)).default),s.method==="constructor")self.model=new self.imported[l](...s.arguments),self.postMessage(null);else if(s.static){let t=self.imported[l][s.method];typeof t=="function"&&(t=await Promise.resolve(t(...s.arguments))),s.initialize?(self.model=t,self.postMessage(null)):self.postMessage(o(t))}else{let t=self.model[s.method];typeof t=="function"&&(t=await Promise.resolve(t.bind(self.model)(...s.arguments))),s.initialize?(self.model=t,self.postMessage(null)):self.postMessage(o(t))}},!1);const o=i(e=>{if(e==null)return e;if(e instanceof n||e instanceof a)return e.toArray();if(Array.isArray(e))return e.map(o);if(typeof e=="object"){const s={};for(const l in e)s[l]=o(e[l]);return s}return e},"convert");
