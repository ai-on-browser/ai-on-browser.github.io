import AssociationAnalysis from"../../lib/model/association_analysis.js";var dispAA=function(t,e){let n=null;const p=()=>{if(!n)return;const t=a.property("value"),e=s.property("value");o.text(`a=${n.support(t)}, b=${n.support(e)}, a&b=${n.support(t,e)}`),i.text(n.confidence(t,e)),l.text(n.lift(t,e))};t.append("span").text("min support"),t.append("input").attr("type","number").attr("name","support").attr("min",0).attr("max",1).attr("step",.1).attr("value",.1),t.append("input").attr("type","button").attr("value","Fit").on("click",(()=>{e.fit(((o,i,l)=>{const r=+t.select("[name=support]").property("value");n=new AssociationAnalysis(r);const c=e.datas._feature_names;o=o.map((t=>t.map(((t,e)=>c[e]+":"+t)))),n.fit(o);const d=[...n.items()].map((t=>t[0]));d.sort(),a.selectAll("*").remove(),a.selectAll("option").data(d).enter().append("option").attr("value",(t=>t)).text((t=>t)),s.selectAll("*").remove(),s.selectAll("option").data(d).enter().append("option").attr("value",(t=>t)).text((t=>t)),p()}))}));const a=t.append("select").on("change",p);t.append("span").text(" => ");const s=t.append("select").on("change",p);t.append("span").text(" support: ");const o=t.append("span").text(0);t.append("span").text(" confidence: ");const i=t.append("span").text(0);t.append("span").text(" lift: ");const l=t.append("span").text(0)};export default function(t){t.setting.ml.usage='Click and add data point. Click "fit" to update.',dispAA(t.setting.ml.configElement,t)}