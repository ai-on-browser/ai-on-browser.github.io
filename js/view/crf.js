var b=Object.defineProperty;var c=(t,e)=>b(t,"name",{value:e,configurable:!0});import h from"../../lib/util/matrix.js";import C from"../../lib/model/crf.js";import M from"../controller.js";export default function g(t){t.setting.ml.usage='Click and add data point. Then, click "Calculate".';const e=new M(t);let o=null,u=0;const d=c(function(){let l=t.trainInput;o||(o=new C);const r=h.fromArray(l),p=r.max(),a=r.min();l=l.map(n=>n.map(i=>Math.floor((i-a)/(p-a)*s.value)));for(let n=0;n<m.value;n++)o.fit(l,t.trainOutput.map(i=>Array(r.cols).fill(i[0])));u+=m.value;const x=t.testInput(10).map(n=>n.map(i=>Math.floor((i-a)/(p-a)*s.value))),v=o.predict(x);t.testResult(v.map(n=>n[0]??-1))},"fitModel"),s=e.input.number({label:" discrete = ",min:2,max:100,value:10}),f=e.stepLoopButtons().init(()=>{o=null,t.init()}),m=e.input.number({label:" iteration ",min:1,max:1e3,value:1});f.step(d).epoch(()=>u)}c(g,"default");
