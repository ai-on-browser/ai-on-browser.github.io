var b=Object.defineProperty;var c=(t,n)=>b(t,"name",{value:n,configurable:!0});import h from"../../lib/model/crf.js";import C from"../../lib/util/matrix.js";import M from"../controller.js";export default function g(t){t.setting.ml.usage='Click and add data point. Then, click "Calculate".';const n=new M(t);let o=null,s=0;const d=c(()=>{let l=t.trainInput;o||(o=new h);const r=C.fromArray(l),p=r.max(),a=r.min();l=l.map(e=>e.map(i=>Math.floor((i-a)/(p-a)*u.value)));for(let e=0;e<m.value;e++)o.fit(l,t.trainOutput.map(i=>Array(r.cols).fill(i[0])));s+=m.value;const f=t.testInput(10).map(e=>e.map(i=>Math.floor((i-a)/(p-a)*u.value))),v=o.predict(f);t.testResult(v.map(e=>e[0]??-1))},"fitModel"),u=n.input.number({label:" discrete = ",min:2,max:100,value:10}),x=n.stepLoopButtons().init(()=>{o=null,t.init()}),m=n.input.number({label:" iteration ",min:1,max:1e3,value:1});x.step(d).epoch(()=>s)}c(g,"default");
