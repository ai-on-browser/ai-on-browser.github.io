import COF from"../../lib/model/cof.js";import Controller from"../controller.js";export default function(e){e.setting.ml.usage='Click and add data point. Then, click "Calculate".',e.setting.ml.reference={author:"J. Tang, Z. Chen, A. W. Fu, D. W. Cheung",title:"Enhancing Effectiveness of Outlier Detections for Low Density Patterns",year:2002};const n=e.task,t=new Controller(e),l=function(){let t=new COF(o.value);if("AD"===n){const n=t.predict(e.trainInput);e.trainResult=n.map((e=>e>i.value))}else{const n=a.value,l=e.trainInput.rolling(n),o=t.predict(l);for(let e=0;e<n/2;e++)o.unshift(1);e.trainResult=o,e.threshold=i.value}};let a;"CP"===n&&(a=t.input.number({label:" window = ",value:5,min:1,max:100}).on("change",(function(){l()})));const o=t.input.number({label:" k = ",min:1,max:100,value:5}).on("change",(()=>{l()})),i=t.input.number({label:" threshold = ",value:1.5,min:0,max:100,step:.1}).on("change",(()=>{l()}));t.input.button("Calculate").on("click",l)}