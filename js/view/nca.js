var d=Object.defineProperty;var u=(n,s)=>d(n,"name",{value:s,configurable:!0});import c from"../../lib/model/nca.js";import m from"../controller.js";export default function g(n){n.setting.ml.usage='Click and add data point. Next, click "Step" button.',n.setting.ml.reference={title:"Neighbourhood components analysis (Wikipedia)",url:"https://en.wikipedia.org/wiki/Neighbourhood_components_analysis"};const s=new m(n);let e=null;const p=u(()=>{const l=n.dimension;if(e||(n.task==="FS"?e=new c(null,a.value):e=new c(l,a.value)),e.fit(n.trainInput,n.trainOutput.map(i=>i[0])),n.task==="FS"){const i=e.importance().map((t,o)=>[t,o]);i.sort((t,o)=>o[0]-t[0]);const r=i.slice(0,l).map(t=>t[1]);n.trainResult=n.trainInput.map(t=>r.map(o=>t[o]))}else{const i=e.predict(n.trainInput);n.trainResult=i}},"fitModel"),a=s.input.number({label:" learning rate ",max:10,step:.1,value:.1});s.stepLoopButtons().init(()=>{e=null,n.init()}).step(p).epoch()}u(g,"default");
