var m=Object.defineProperty;var a=(n,t)=>m(n,"name",{value:t,configurable:!0});import u from"../../lib/model/nca.js";import g from"../controller.js";var h=a(function(n,t){t.setting.ml.reference={title:"Neighbourhood components analysis (Wikipedia)",url:"https://en.wikipedia.org/wiki/Neighbourhood_components_analysis"};const l=new g(t);let i=null;const c=a(p=>{const r=t.dimension;if(!i){const e=+n.select("[name=l]").property("value");t.task==="FS"?i=new u(null,e):i=new u(r,e)}if(i.fit(t.trainInput,t.trainOutput.map(e=>e[0])),t.task==="FS"){const e=i.importance().map((s,o)=>[s,o]);e.sort((s,o)=>o[0]-s[0]);const d=e.slice(0,r).map(s=>s[1]);t.trainResult=t.trainInput.map(s=>d.map(o=>s[o]))}else{let e=i.predict(t.trainInput);t.trainResult=e}p&&p()},"fitModel");n.append("span").text(" learning rate "),n.append("input").attr("type","number").attr("name","l").attr("max",10).attr("step",.1).attr("value",.1),l.stepLoopButtons().init(()=>{i=null,t.init()}).step(c).epoch()},"dispNCA");export default function k(n){n.setting.ml.usage='Click and add data point. Next, click "Step" button.',h(n.setting.ml.configElement,n)}a(k,"default");
