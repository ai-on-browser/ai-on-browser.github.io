var d=Object.defineProperty;var l=(e,s)=>d(e,"name",{value:s,configurable:!0});import c from"../../lib/model/nca.js";import m from"../controller.js";export default function g(e){e.setting.ml.usage='Click and add data point. Next, click "Step" button.',e.setting.ml.reference={title:"Neighbourhood components analysis (Wikipedia)",url:"https://en.wikipedia.org/wiki/Neighbourhood_components_analysis"};const s=new m(e);let n=null;const p=l(()=>{const a=e.dimension;if(n||(e.task==="FS"?n=new c(null,u.value):n=new c(a,u.value)),n.fit(e.trainInput,e.trainOutput.map(i=>i[0])),e.task==="FS"){const i=n.importance().map((t,o)=>[t,o]);i.sort((t,o)=>o[0]-t[0]);const r=i.slice(0,a).map(t=>t[1]);e.trainResult=e.trainInput.map(t=>r.map(o=>t[o]))}else{let i=n.predict(e.trainInput);e.trainResult=i}},"fitModel"),u=s.input.number({label:" learning rate ",max:10,step:.1,value:.1});s.stepLoopButtons().init(()=>{n=null,e.init()}).step(p).epoch()}l(g,"default");
