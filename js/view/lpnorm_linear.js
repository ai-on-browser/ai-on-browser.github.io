import{BasisFunctions}from"./least_square.js";import LpNormLinearRegression from"../../lib/model/lpnorm_linear.js";import Controller from"../controller.js";var dispLpNormLinearRegression=function(t,e){e.setting.ml.reference={title:"Iteratively reweighted least squares (Wikipedia)",url:"https://en.wikipedia.org/wiki/Iteratively_reweighted_least_squares"};const n=new Controller(e);let i=null;const r=new BasisFunctions(e);r.makeHtml(t),t.append("span").text("p"),t.append("input").attr("type","number").attr("name","p").attr("min",0).attr("max",10).attr("value",1).attr("step",.1),n.stepLoopButtons().init((()=>{i=null,e.init()})).step((()=>{if(!i){const e=t.select("[name=p]").property("value");i=new LpNormLinearRegression(e)}i.fit(r.apply(e.trainInput),e.trainOutput);let n=i.predict(r.apply(e.testInput(4)));e.testResult(n)})).epoch()};export default function(t){t.setting.ml.usage='Click and add data point. Next, click "Fit" button.',dispLpNormLinearRegression(t.setting.ml.configElement,t)}