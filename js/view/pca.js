var v=Object.defineProperty;var m=(e,l)=>v(e,"name",{value:l,configurable:!0});import{PCA as b,DualPCA as h,KernelPCA as A,AnomalyPCA as C}from"../../lib/model/pca.js";import w from"../controller.js";export default function x(e){e.setting.ml.usage='Click and add data point. Next, click "Fit" button.';const l=new w(e),p=m(()=>{if(e.task==="DR"){const s=e.dimension;let n;i.value===""?n=new b:i.value==="dual"?n=new h:n=new A({name:o.value,sigma:k.value,n:r.value}),n.fit(e.trainInput);const c=n.predict(e.trainInput,s);e.trainResult=c}else{const s=new C;s.fit(e.trainInput);const n=y.value,c=s.predict(e.trainInput);e.trainResult=c.map(d=>d>n);const g=s.predict(e.testInput(10));e.testResult(g.map(d=>d>n))}},"fitModel");let i=null;e.task!=="AD"&&(i=l.select(["","dual","kernel"]).on("change",()=>{i.value==="kernel"?t.element.style.display="inline-block":t.element.style.display="none"}));const t=l.span();t.element.style.display="none";const o=t.select(["gaussian","polynomial"]).on("change",function(){a.element.style.display="none",u.element.style.display="none",o.value==="polynomial"?a.element.style.display="inline-block":o.value==="gaussian"&&(u.element.style.display="inline-block")}),a=t.span();a.element.style.display="none";const r=a.input.number({label:" d = ",value:2,min:1,max:10}),u=t.span(),k=u.input.number({label:" sigma = ",value:1,min:0,max:10,step:.1});let y=null;e.task==="AD"&&(y=l.input.number({label:" threshold = ",value:.1,min:0,max:10,step:.01}).on("change",p)),l.input.button("Fit").on("click",p)}m(x,"default");
