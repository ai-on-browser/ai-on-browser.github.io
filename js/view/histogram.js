import Matrix from"../../lib/util/matrix.js";import Histogram from"../../lib/model/histogram.js";var dispHistogram=function(t,e){const a=()=>{const a=t.select("[name=method]").property("value"),n=+t.select("[name=bins]").property("value"),i=e.width,o=e.height,r=new Histogram({domain:e.datas.domain,count:"manual"!==a?null:n,binMethod:a}).fit(e.trainInput);e.testInput([i/r.length,o/r[0].length]);let l=Matrix.fromArray(r);l.div(l.max()),l=l.value.map(specialCategory.density),e.testResult(l)};t.append("select").attr("name","method").on("change",(()=>{const e=t.select("[name=method]").property("value");t.select("[name=bins]").property("disabled","manual"!==e),a()})).selectAll("option").data(["manual","fd","scott","rice","sturges","doane","sqrt"]).enter().append("option").attr("value",(t=>t)).text((t=>t)),t.append("span").text("bins "),t.append("input").attr("type","number").attr("name","bins").attr("min",2).attr("value",10).on("change",a),t.append("input").attr("type","button").attr("value","Fit").on("click",(()=>a()))};export default function(t){t.setting.ml.usage='Click and add data point. Next, click "Fit" button.',dispHistogram(t.setting.ml.configElement,t)}