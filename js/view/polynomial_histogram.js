import Matrix from"../../lib/util/matrix.js";import PolynomialHistogram from"../../lib/model/polynomial_histogram.js";import Controller from"../controller.js";import{specialCategory}from"../utils.js";export default function(t){t.setting.ml.usage='Click and add data point. Next, click "Fit" button.';const i=new Controller(t),o=()=>{const i=new PolynomialHistogram(l.value,a.value);i.fit(t.trainInput);let o=Matrix.fromArray(i.predict(t.testInput(4)));o.div(o.max()),o=o.value.map(specialCategory.density),t.testResult(o)},l=i.input.number({label:"p ",min:0,max:2,value:2}).on("change",o),a=i.input.number({label:" h ",min:0,step:.01,value:.1}).on("change",o);i.input.button("Fit").on("click",(()=>o()))}