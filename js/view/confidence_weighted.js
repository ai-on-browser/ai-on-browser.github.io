import{ConfidenceWeighted,SoftConfidenceWeighted}from"../../lib/model/confidence_weighted.js";import EnsembleBinaryModel from"../../lib/model/ensemble_binary.js";var dispConfidenceWeighted=function(e,t){e.append("select").attr("name","method").selectAll("option").data(["oneone","onerest"]).enter().append("option").property("value",(e=>e)).text((e=>e)),e.append("select").attr("name","type").on("change",(function(){"cw"===d3.select(this).property("value")?n.style("display","none"):n.style("display","inline")})).selectAll("option").data(["cw","scw-1","scw-2"]).enter().append("option").property("value",(e=>e)).text((e=>e));const n=e.append("span").style("display","none");n.append("span").text(" cost = "),n.append("input").attr("type","number").attr("name","cost").attr("min",0).attr("max",100).attr("value",1),e.append("span").text(" eta = "),e.append("input").attr("type","number").attr("name","eta").attr("min",.5).attr("max",1).attr("value",.9).attr("step",.01),e.append("input").attr("type","button").attr("value","Calculate").on("click",(n=>{const a=e.select("[name=method]").property("value"),p=e.select("[name=type]").property("value"),i=+e.select("[name=eta]").property("value"),o=+e.select("[name=cost]").property("value");t.fit(((e,l)=>{l=l.map((e=>e[0]));const d=new EnsembleBinaryModel("cw"===p?ConfidenceWeighted:SoftConfidenceWeighted,a,null,"cw"===p?[i]:[i,o,"scw-1"===p?1:2]);d.init(e,l),d.fit(),t.predict(((e,t)=>{t(d.predict(e)),n&&n()}),3)}))}))};export default function(e){e.setting.ml.usage='Click and add data point. Then, click "Calculate".',dispConfidenceWeighted(e.setting.ml.configElement,e)}