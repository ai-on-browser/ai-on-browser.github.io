import SezanThresholding from"../../lib/model/sezan.js";import Controller from"../controller.js";import{specialCategory}from"../utils.js";export default function(t){t.setting.ml.usage='Click "Fit" button.',t.colorSpace="gray";const e=new Controller(t),n=()=>{const e=t._step;t._step=1;const n=new SezanThresholding(l.value,a.value);let i=n.predict(t.trainInput.flat(2));o.value=n._th,t.trainResult=i.map((t=>specialCategory.density(1-t))),t._step=e},l=e.input.number({label:" gamma ",min:0,max:1,step:.1,value:.5}).on("change",n),a=e.input.number({label:" sigma ",min:0,max:10,step:.1,value:5}).on("change",n);e.input.button("Fit").on("click",n);const o=e.text({label:" Estimated threshold "})}