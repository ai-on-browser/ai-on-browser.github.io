var u=Object.defineProperty;var o=(t,n)=>u(t,"name",{value:n,configurable:!0});import p from"../../lib/model/automatic_thresholding.js";import a from"../controller.js";import{specialCategory as d}from"../utils.js";export default function h(t){t.setting.ml.usage='Click "Fit" button.',t.colorSpace="gray";const n=new a(t);let e=null;const s=o(()=>{const l=t._step;t._step=1,e||(e=new p),e.fit(t.trainInput.flat(2));const c=e.predict(t.trainInput.flat(2));i.value=e._th,t.trainResult=c.map(r=>d.density(1-r)),t._step=l},"fitModel");n.stepLoopButtons().init(()=>{e=null,i.value=0}).step(s).epoch();const i=n.text({label:" Estimated threshold "})}o(h,"default");
