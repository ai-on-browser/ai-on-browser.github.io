import AutomaticThresholding from"../../lib/model/automatic_thresholding.js";import Controller from"../controller.js";var dispAutomatic=function(t,e){e.colorSpace="gray";const o=new Controller(e);let n=null;o.stepLoopButtons().init((()=>{n=null,t.select("[name=threshold]").text(0)})).step((o=>{const l=e._step;e._step=1,n||(n=new AutomaticThresholding),n.fit(e.trainInput.flat(2));const s=n.predict(e.trainInput.flat(2));t.select("[name=threshold]").text(n._th),e.trainResult=s.map((t=>specialCategory.density(1-t))),e._step=l,o&&o()})).epoch(),t.append("span").text(" Estimated threshold "),t.append("span").attr("name","threshold")};export default function(t){t.setting.ml.usage='Click "Fit" button.',dispAutomatic(t.setting.ml.configElement,t)}