var p=Object.defineProperty;var o=(t,n)=>p(t,"name",{value:n,configurable:!0});import a from"../../lib/model/automatic_thresholding.js";import d from"../controller.js";import{specialCategory as h}from"../utils.js";export default function g(t){t.setting.ml.usage='Click "Fit" button.',t.colorSpace="gray";const n=new d(t);let e=null;const l=o(s=>{const r=t._step;t._step=1,e||(e=new a),e.fit(t.trainInput.flat(2));const c=e.predict(t.trainInput.flat(2));i.value=e._th,t.trainResult=c.map(u=>h.density(1-u)),t._step=r,s&&s()},"fitModel");n.stepLoopButtons().init(()=>{e=null,i.value=0}).step(l).epoch();const i=n.text({label:" Estimated threshold "})}o(g,"default");
