import AutomaticThresholding from"../../lib/model/automatic_thresholding.js";var dispAutomatic=function(t,e){e.colorSpace="gray";let l=null;e.setting.ml.controller.stepLoopButtons().init((()=>{l=null,t.select("[name=threshold]").text(0)})).step((o=>{e.fit(((e,i,n)=>{l||(l=new AutomaticThresholding),l.fit(e.flat(2));let a=l.predict(e.flat(2));t.select("[name=threshold]").text(l._th),n(a.map((t=>specialCategory.density(1-t)))),o&&o()}),1)})).epoch(),t.append("span").text(" Estimated threshold "),t.append("span").attr("name","threshold")};export default function(t){t.setting.ml.usage='Click "Fit" button.',dispAutomatic(t.setting.ml.configElement,t)}