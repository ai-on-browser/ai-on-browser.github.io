import Matrix from"../../lib/util/matrix.js";import MetropolisHastings from"../../lib/model/mh.js";var dispMH=function(t,a){t.append("select").attr("name","distribution").selectAll("option").data(["gaussian"]).enter().append("option").attr("value",(t=>t)).text((t=>t)),t.append("input").attr("type","button").attr("value","Sample").on("click",(()=>{a.fit(((a,e,i)=>{a=Matrix.fromArray(a);let n;if("gaussian"===t.select("[name=distribution]").property("value")){const t=a.mean(0),e=a.cov().inv();n=a=>{const i=Matrix.fromArray(a.concat());return i.sub(t.t),Math.exp(-i.tDot(e).dot(i).toScaler()/2)}}i(new MetropolisHastings(n,a.cols).sample(a.rows))}))}))};export default function(t){t.setting.ml.usage='Click and add data point. Finally, click "Sample" button.',t.setting.terminate=dispMH(t.setting.ml.configElement,t)}