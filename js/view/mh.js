import Matrix from"../../lib/util/matrix.js";import MetropolisHastings from"../../lib/model/mh.js";var dispMH=function(t,i){i.setting.ml.reference={title:"Metropolis-Hastings algorithm (Wikipedia)",url:"https://en.wikipedia.org/wiki/Metropolis%E2%80%93Hastings_algorithm"},t.append("select").attr("name","distribution").selectAll("option").data(["gaussian"]).enter().append("option").attr("value",(t=>t)).text((t=>t)),t.append("input").attr("type","button").attr("value","Sample").on("click",(()=>{const e=Matrix.fromArray(i.trainInput);let a;if("gaussian"===t.select("[name=distribution]").property("value")){const t=e.mean(0),i=e.cov().inv();a=e=>{const a=Matrix.fromArray(e.concat());return a.sub(t.t),Math.exp(-a.tDot(i).dot(a).toScaler()/2)}}const n=new MetropolisHastings(a,e.cols).sample(e.rows);i.trainResult=n}))};export default function(t){t.setting.ml.usage='Click and add data point. Finally, click "Sample" button.',dispMH(t.setting.ml.configElement,t)}