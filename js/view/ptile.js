import PTile from"../../lib/model/ptile.js";import Controller from"../controller.js";import{specialCategory}from"../utils.js";export default function(t){t.setting.ml.usage='Click "Fit" button.',t.colorSpace="gray";const e=new Controller(t),l=()=>{const e=t._step;t._step=1;const l=new PTile(o.value),i=l.predict(t.trainInput.flat(2));n.value=l._t,t.trainResult=i.map((t=>specialCategory.density(1-t))),t._step=e},o=e.input.number({label:" p = ",min:0,max:1,step:.1,value:.5}).on("change",l);e.input.button("Fit").on("click",l);const n=e.text({label:" Estimated threshold "})}