import OtsusThresholding from"../../lib/model/otsu.js";import Controller from"../controller.js";import{specialCategory}from"../utils.js";export default function(t){t.setting.ml.usage='Click "Fit" button.',t.setting.ml.reference={title:"Otsu's method",url:"https://en.wikipedia.org/wiki/Otsu%27s_method"},t.colorSpace="gray";const e=new Controller(t);e.input.button("Fit").on("click",(()=>{const e=t._step;t._step=1;const s=new OtsusThresholding;let i=s.predict(t.trainInput.flat(2));o.value=s._t,t.trainResult=i.map((t=>specialCategory.density(1-t))),t._step=e}));const o=e.text({label:" Estimated threshold "})}