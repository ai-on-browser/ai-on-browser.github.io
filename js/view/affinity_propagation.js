import AffinityPropagation from"../../lib/model/affinity_propagation.js";import Controller from"../controller.js";var dispAffinityPropagation=function(t,e){const n=new Controller(e);let i=null;n.stepLoopButtons().init((()=>{i=null,t.select("[name=clusters]").text(0),e.init()})).step((n=>{e.fit(((o,a,p)=>{i||(i=new AffinityPropagation,i.init(o)),i.fit();p(i.predict().map((t=>t+1))),t.select("[name=clusters]").text(i.size),e.centroids(i.centroids,i.categories.map((t=>t+1))),n&&n()}))})).epoch(),t.append("span").text(" Clusters: "),t.append("span").attr("name","clusters")};export default function(t){t.setting.ml.usage='Click and add data point. Then, click "Step" button repeatedly.',dispAffinityPropagation(t.setting.ml.configElement,t)}