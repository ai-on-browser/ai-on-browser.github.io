import AffinityPropagation from"../../lib/model/affinity_propagation.js";import Controller from"../controller.js";var dispAffinityPropagation=function(t,n){const e=new Controller(n);let i=null;e.stepLoopButtons().init((()=>{i=null,t.select("[name=clusters]").text(0),n.init()})).step((e=>{i||(i=new AffinityPropagation,i.init(n.trainInput)),i.fit();const o=i.predict();n.trainResult=o.map((t=>t+1)),t.select("[name=clusters]").text(i.size),n.centroids(i.centroids,i.categories.map((t=>t+1))),e&&e()})).epoch(),t.append("span").text(" Clusters: "),t.append("span").attr("name","clusters")};export default function(t){t.setting.ml.usage='Click and add data point. Then, click "Step" button repeatedly.',dispAffinityPropagation(t.setting.ml.configElement,t)}