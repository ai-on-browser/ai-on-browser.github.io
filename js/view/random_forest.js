import{RandomForestClassifier,RandomForestRegressor}from"../../lib/model/random_forest.js";var dispRandomForest=function(t,e){const a=e.task;let n=null;const p=function(){let t=n.predict(e.testInput(4));e.testResult(t)},r="CF"===a?["CART","ID3"]:["CART"];t.append("select").attr("name","method").selectAll("option").data(r).enter().append("option").attr("value",(t=>t)).text((t=>t)),t.append("span").text(" Tree #"),t.append("input").attr("type","number").attr("name","tree_num").property("value",50).attr("min",1).attr("max",200),t.append("span").text(" Sampling rate "),t.append("input").attr("type","number").attr("name","srate").property("value",.2).attr("min",.1).attr("max",1).attr("step",.1),t.append("input").attr("type","button").attr("value","Initialize").on("click",(()=>{if(0===e.datas.length)return n=null,void t.select("[name=depthnumber]").text("0");const r=+t.select("input[name=tree_num]").property("value"),i=+t.select("input[name=srate]").property("value");if("CF"===a){const e=t.select("[name=method]").property("value");n=new RandomForestClassifier(r,i,e)}else n=new RandomForestRegressor(r,i);n.init(e.trainInput,e.trainOutput.map((t=>t[0]))),p(),t.select("[name=depthnumber]").text(n.depth)})),t.append("input").attr("type","button").attr("value","Separate").on("click",(()=>{n&&(n.fit(),p(),t.select("[name=depthnumber]").text(n.depth))})),t.append("span").attr("name","depthnumber").text("0"),t.append("span").text(" depth ")};export default function(t){t.setting.ml.usage='Click and add data point. Next, click "Initialize". Finally, click "Separate".',dispRandomForest(t.setting.ml.configElement,t)}