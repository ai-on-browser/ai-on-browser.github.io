import{DecisionTreeClassifier,DecisionTreeRegression}from"../../lib/model/decision_tree.js";import RandomForest from"../../lib/model/random_forest.js";var dispRandomForest=function(e,t){const n=t.task;let a=null;const p=function(){t.predict(((e,t)=>{t(a.predict(e))}),4,1)};e.append("select").on("change",(()=>moveCenters())).selectAll("option").data([{value:"CART"}]).enter().append("option").attr("value",(e=>e.value)).text((e=>e.value)),e.append("span").text(" Tree #"),e.append("input").attr("type","number").attr("name","tree_num").property("value",50).attr("min",1).attr("max",200),e.append("span").text(" Sampling rate "),e.append("input").attr("type","number").attr("name","srate").property("value",.2).attr("min",.1).attr("max",1).attr("step",.1),e.append("input").attr("type","button").attr("value","Initialize").on("click",(()=>{if(0===t.datas.length)return a=null,void e.select("[name=depthnumber]").text("0");const r=+e.select("input[name=tree_num]").property("value"),i=+e.select("input[name=srate]").property("value");a=new RandomForest(r,i,"CF"===n?DecisionTreeClassifier:DecisionTreeRegression),t.fit(((e,t)=>{a.init(e,t.map((e=>e[0])))})),p(),e.select("[name=depthnumber]").text(a.depth)})),e.append("input").attr("type","button").attr("value","Separate").on("click",(()=>{a&&(a.fit(),p(),e.select("[name=depthnumber]").text(a.depth))})),e.append("span").attr("name","depthnumber").text("0"),e.append("span").text(" depth ")};export default function(e){e.setting.ml.usage='Click and add data point. Next, click "Initialize". Finally, click "Separate".',dispRandomForest(e.setting.ml.configElement,e)}