import Perceptron from"../../lib/model/perceptron.js";import EnsembleBinaryModel from"../../lib/util/ensemble.js";var dispPerceptron=function(e,t){let n=null;e.append("select").attr("name","average").selectAll("option").data(["","average"]).enter().append("option").property("value",(e=>e)).text((e=>e)),e.append("select").attr("name","method").selectAll("option").data(["oneone","onerest"]).enter().append("option").property("value",(e=>e)).text((e=>e)),e.append("span").text(" Learning rate "),e.append("input").attr("type","number").attr("name","rate").attr("min",0).attr("max",100).attr("step",.1).attr("value",.1),t.setting.ml.controller.stepLoopButtons().init((()=>{n=null,t.init()})).step((a=>{const r=e.select("[name=method]").property("value"),p=e.select("[name=average]").property("value"),l=+e.select("[name=rate]").property("value");t.fit(((e,o)=>{o=o.map((e=>e[0])),n||(n=new EnsembleBinaryModel(Perceptron,r,null,["average"===p,l]),n.init(e,o)),n.fit(),t.predict(((e,t)=>{t(n.predict(e)),a&&a()}),3)}))})).epoch()};export default function(e){e.setting.ml.usage='Click and add data point. Then, click "Step".',dispPerceptron(e.setting.ml.configElement,e)}