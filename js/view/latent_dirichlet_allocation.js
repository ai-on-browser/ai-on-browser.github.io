import LatentDirichletAllocation from"../../lib/model/latent_dirichlet_allocation.js";import Matrix from"../../lib/util/matrix.js";import Controller from"../controller.js";var dispLDA=function(t,i){const e=new Controller(i);let n=null;t.append("span").text("topics"),t.append("input").attr("type","number").attr("name","topics").attr("max",100).attr("min",1).attr("value",5),e.stepLoopButtons().init((()=>{n=null,i.init()})).step((e=>{i.fit(((i,o,a)=>{const l=Matrix.fromArray(i),r=l.max(0).value,p=l.min(0).value;if(i=i.map((t=>t.map(((t,i)=>Math.floor((t-p[i])/(r[i]-p[i])*19)+20*i)))),!n){const e=+t.select("[name=topics]").property("value");n=new LatentDirichletAllocation(e),n.init(i)}n.fit(),a(n.predict().map((t=>t+1))),e&&e()}))})).epoch()};export default function(t){t.setting.ml.usage='Click and add data point. Next, click "Add centroid" to add centroid. Finally, click "Step" button repeatedly.',dispLDA(t.setting.ml.configElement,t)}