import LatentDirichletAllocation from"../../lib/model/latent_dirichlet_allocation.js";import Matrix from"../../lib/util/matrix.js";import Controller from"../controller.js";var dispLDA=function(t,i){const e=new Controller(i);let n=null;t.append("span").text("topics"),t.append("input").attr("type","number").attr("name","topics").attr("max",100).attr("min",1).attr("value",5),e.stepLoopButtons().init((()=>{n=null,i.init()})).step((e=>{let a=i.trainInput;const l=Matrix.fromArray(a),o=l.max(0).value,r=l.min(0).value;if(a=a.map((t=>t.map(((t,i)=>Math.floor((t-r[i])/(o[i]-r[i])*19)+20*i)))),!n){const i=+t.select("[name=topics]").property("value");n=new LatentDirichletAllocation(i),n.init(a)}n.fit(),i.trainResult=n.predict().map((t=>t+1)),e&&e()})).epoch()};export default function(t){t.setting.ml.usage='Click and add data point. Next, click "Add centroid" to add centroid. Finally, click "Step" button repeatedly.',dispLDA(t.setting.ml.configElement,t)}