import PossibilisticCMeans from"../../lib/model/pcm.js";import Matrix from"../../lib/util/matrix.js";import Controller from"../controller.js";var dispPossibilisticCMeans=function(t,e){const n=new Controller(e);let i=null;const a=(t,n)=>{t&&i.fit();const a=Matrix.fromArray(i.predict());e.trainResult=a.argmax(1).value.map((t=>t+1)),e.centroids(i._c,i._c.map(((t,e)=>e+1)),{line:!0}),n&&n()};t.append("span").text("m"),t.append("input").attr("type","number").attr("name","m").attr("max",10).attr("min",1.1).attr("step",.1).attr("value",2);const r=()=>{i.add(),t.select("[name=clusternumber]").text(i._c.length+" clusters"),e.centroids(i._c,i._c.map(((t,e)=>e+1)),{line:!0}),a(!1)},s=n.stepLoopButtons().init((()=>{const n=+t.select("[name=m]").property("value");i=new PossibilisticCMeans(n),i.init(e.trainInput),e.init(),r()}));t.append("input").attr("type","button").attr("value","Add centroid").on("click",r),t.append("span").attr("name","clusternumber").style("padding","0 10px").text("0 clusters"),s.step((t=>{a(!0,t)})).epoch()};export default function(t){t.setting.ml.usage='Click and add data point. Next, click "Add centroid" to add centroid. Finally, click "Step" button repeatedly.',dispPossibilisticCMeans(t.setting.ml.configElement,t)}