var m=Object.defineProperty;var i=(e,n)=>m(e,"name",{value:n,configurable:!0});import x from"../../lib/model/pcm.js";import b from"../../lib/util/matrix.js";import f from"../controller.js";export default function g(e){e.setting.ml.usage='Click and add data point. Next, click "Add centroid" to add centroid. Finally, click "Step" button repeatedly.';const n=new f(e);let t=null;const o=i(d=>{d&&t.fit();const c=b.fromArray(t.predict());e.trainResult=c.argmax(1).value.map(r=>r+1),e.centroids(t._c,t._c.map((r,p)=>p+1),{line:!0})},"fitModel"),a=n.input.number({label:"m",min:1.1,max:10,step:.1,value:2}),l=i(()=>{t.add(),s.value=t._c.length+" clusters",e.centroids(t._c,t._c.map((d,c)=>c+1),{line:!0}),o(!1)},"addCentroid"),u=n.stepLoopButtons().init(()=>{t=new x(a.value),t.init(e.trainInput),e.init(),l()});n.input.button("Add centroid").on("click",l);const s=n.text("0 clusters");s.element.style.padding="0 10px",u.step(()=>{o(!0)}).epoch()}i(g,"default");
