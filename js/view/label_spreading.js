import LabelSpreading from"../../lib/model/label_spreading.js";import Controller from"../controller.js";var dispLabelSpreading=function(e,t){const n=new Controller(t);let a=null;const l=n.select(["rbf","knn"]).on("change",(function(){const e=l.value;i.selectAll("*").style("display","none"),i.selectAll(`.${e}`).style("display","inline")})),i=e.append("span");i.append("span").classed("rbf",!0).text("s ="),i.append("input").attr("type","number").attr("name","sigma").classed("rbf",!0).attr("min",.01).attr("max",100).attr("step",.01).property("value",1);const p=n.input.number({label:"k =",min:1,max:1e3,value:10}),r=n.input.number({label:"alpha",min:0,max:1,step:.1,value:.2});n.stepLoopButtons().init((()=>{a=null,t.init()})).step((n=>{(()=>{if(!a){const n=+e.select("[name=sigma]").property("value");a=new LabelSpreading(r.value,l.value,n,p.value),a.init(t.trainInput,t.trainOutput.map((e=>e[0])))}a.fit(),t.trainResult=a.predict()})(),n&&n()})).epoch()};export default function(e){e.setting.ml.usage='Click and add data point. Finally, click "Step" button repeatedly.',dispLabelSpreading(e.setting.ml.configElement,e)}