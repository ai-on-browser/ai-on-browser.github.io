import PLSA from"../../lib/model/plsa.js";import Matrix from"../../lib/util/matrix.js";import Controller from"../controller.js";var dispPLSA=function(t,n){const i=new Controller(n);let e=null;t.append("span").text("topics"),t.append("input").attr("type","number").attr("name","topics").attr("max",100).attr("min",1).attr("value",5),i.stepLoopButtons().init((()=>{e=null,n.init()})).step((i=>{const a=Matrix.fromArray(n.trainInput),o=a.max(0).value,r=a.min(0).value,l=n.trainInput.map((t=>t.map(((t,n)=>Math.floor((t-r[n])/(o[n]-r[n])*19)+20*n))));if(!e){const n=+t.select("[name=topics]").property("value");e=new PLSA(n),e.init(l)}e.fit(),n.trainResult=e.predict().map((t=>t+1)),i&&i()})).epoch()};export default function(t){t.setting.ml.usage='Click and add data point. Next, click "Add centroid" to add centroid. Finally, click "Step" button repeatedly.',dispPLSA(t.setting.ml.configElement,t)}