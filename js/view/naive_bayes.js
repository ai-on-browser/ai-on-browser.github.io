import NaiveBayes from"../../lib/model/naive_bayes.js";import Controller from"../controller.js";import{specialCategory}from"../utils.js";export default function(t){t.setting.ml.usage='Click and add data point. Then, click "Calculate".',t.setting.ml.reference={title:"Naive Bayes classifier (Wikipedia)",url:"https://en.wikipedia.org/wiki/Naive_Bayes_classifier"};const e=new Controller(t);let i=new NaiveBayes;const a=()=>{if(i.fit(t.trainInput,t.trainOutput.map((t=>t[0]))),"DE"===t.task){const e=i.probability(t.testInput(3)).map((t=>t.reduce(((t,e)=>t+e),0))),a=Math.min(...e),s=Math.max(...e);t.testResult(e.map((t=>specialCategory.density((t-a)/(s-a)))))}else t.testResult(i.predict(t.testInput(3)))};e.select({label:"Distribution ",values:["gaussian"]}).on("change",a),e.input.button("Calculate").on("click",a)}