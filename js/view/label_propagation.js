import LabelPropagation from"../../lib/model/label_propagation.js";import Controller from"../controller.js";var dispLabelPropagation=function(t,e){const n=new Controller(e);let a=null;const l=n.select(["rbf","knn"]).on("change",(function(){const t=l.value;i.selectAll("*").style("display","none"),i.selectAll(`.${t}`).style("display","inline")})),i=t.append("span");i.append("span").classed("rbf",!0).text("s ="),i.append("input").attr("type","number").attr("name","sigma").classed("rbf",!0).attr("min",.01).attr("max",100).attr("step",.01).property("value",1);const o=n.input.number({label:"k =",min:1,max:1e3,value:10});n.stepLoopButtons().init((()=>{a=null,e.init()})).step((n=>{(()=>{if(!a){const n=+t.select("[name=sigma]").property("value");a=new LabelPropagation(l.value,n,o.value),a.init(e.trainInput,e.trainOutput.map((t=>t[0])))}a.fit(),e.trainResult=a.predict()})(),n&&n()})).epoch()};export default function(t){t.setting.ml.usage='Click and add data point. Finally, click "Step" button repeatedly.',dispLabelPropagation(t.setting.ml.configElement,t)}