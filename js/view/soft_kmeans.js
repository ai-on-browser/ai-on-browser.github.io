import SoftKMeans from"../../lib/model/soft_kmeans.js";import Matrix from"../../lib/util/matrix.js";import Controller from"../controller.js";var dispFuzzyCMeans=function(t,e){const n=new Controller(e);let a=null;const r=(t,n)=>{e.fit(((r,i,o)=>{t&&a.fit();o(Matrix.fromArray(a.predict()).argmax(1).value.map((t=>t+1))),e.centroids(a._c,a._c.map(((t,e)=>e+1)),{line:!0}),n&&n()}))};t.append("span").text("beta"),t.append("input").attr("type","number").attr("name","b").attr("max",1e3).attr("min",0).attr("step",.1).attr("value",10);const i=()=>{a.add(),t.select("[name=clusternumber]").text(a._c.length+" clusters"),e.centroids(a._c,a._c.map(((t,e)=>e+1)),{line:!0}),r(!1)},o=n.stepLoopButtons().init((()=>{e.fit(((e,n)=>{const r=+t.select("[name=b]").property("value");a=new SoftKMeans(r),a.init(e)})),e.init(),i()}));t.append("input").attr("type","button").attr("value","Add centroid").on("click",i),t.append("span").attr("name","clusternumber").style("padding","0 10px").text("0 clusters"),o.step((t=>{r(!0,t)})).epoch()};export default function(t){t.setting.ml.usage='Click and add data point. Next, click "Add centroid" to add centroid. Finally, click "Step" button repeatedly.',dispFuzzyCMeans(t.setting.ml.configElement,t)}