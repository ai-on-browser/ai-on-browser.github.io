var y=Object.defineProperty;var u=(e,t)=>y(e,"name",{value:t,configurable:!0});import M from"../../lib/model/ocsvm.js";import I from"../controller.js";export default function O(e){e.setting.ml.usage='Click and add data point. Then, click "Calculate".',e.setting.ml.reference={author:"J. Jiong, Z. Hao-ran",title:"A Fast Learning Algorithm for One-Class Support Vector Machine",year:2007};const t=new I(e);let l=null,i=0;const h=u(function(m){for(let a=0;a<+r.value;a++)l.fit();i+=+r.value;const o=e.trainInput,x=[].concat(o,e.testInput(8));let n=l.predict(x);const p=Math.min(...n),C=Math.max(...n),b=v.value;n=n.map(a=>(a-p)/(C-p)<b),e.trainResult=n.slice(0,o.length),e.testResult(n.slice(o.length)),m&&m()},"calcOCSVM"),d=t.input.number({label:" nu ",min:0,max:1,step:.1,value:.5}),c=t.select(["gaussian","linear"]).on("change",()=>{c.value==="gaussian"?s.element.style.display="inline":s.element.style.display="none"}),s=t.input.number({value:.1,min:.01,max:10,step:.01}),g=t.stepLoopButtons().init(()=>{l=new M(d.value,{name:c.value,d:s.value}),l.init(e.trainInput,e.trainOutput),i=0,e.init()}),r=t.select({label:" Iteration ",values:[1,10,100,1e3]}),v=t.input.number({label:" threshold = ",min:0,max:1,step:.01,value:.6});g.step(h).epoch(()=>i)}u(O,"default");
