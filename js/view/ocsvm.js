var y=Object.defineProperty;var r=(e,t)=>y(e,"name",{value:t,configurable:!0});import M from"../../lib/model/ocsvm.js";import I from"../controller.js";export default function O(e){e.setting.ml.usage='Click and add data point. Then, click "Calculate".',e.setting.ml.reference={author:"J. Jiong, Z. Hao-ran",title:"A Fast Learning Algorithm for One-Class Support Vector Machine",year:2007};const t=new I(e);let a=null,i=0;const m=r(function(l){for(let s=0;s<+p.value;s++)a.fit();i+=+p.value;const c=e.trainInput,x=[].concat(c,e.testInput(8));let n=a.predict(x);const h=Math.min(...n),C=Math.max(...n),b=v.value;n=n.map(s=>(s-h)/(C-h)<b),e.trainResult=n.slice(0,c.length),e.testResult(n.slice(c.length)),l&&l()},"calcOCSVM"),g=t.input.number({label:" nu ",min:0,max:1,step:.1,value:.5}),u=t.select(["gaussian","linear"]).on("change",()=>{u.value==="gaussian"?o.element.style.display="inline":o.element.style.display="none"}),o=t.input.number({value:.1,min:.01,max:10,step:.01}),d=t.stepLoopButtons().init(()=>{const l=[];u.value==="gaussian"&&l.push(o.value),a=new M(g.value,u.value,l),a.init(e.trainInput,e.trainOutput),i=0,e.init()}),p=t.select({label:" Iteration ",values:[1,10,100,1e3]}),v=t.input.number({label:" threshold = ",min:0,max:1,step:.01,value:.6});d.step(m).epoch(()=>i)}r(O,"default");
