import MarkovSwitching from"../../lib/model/markov_switching.js";import Controller from"../controller.js";export default function(e){e.setting.ml.usage='Click and add data point. Then, click "Calculate".';const t=new Controller(e),n=t.input.number({label:" regime = ",min:2,max:100,value:3}),l=t.input.number({label:" trial = ",min:1,max:1e8,value:1e4}),a=t.input.number({label:" threshold = ",min:0,max:100,step:.01,value:.1}).on("change",(()=>{e.threshold=a.value})),i=t.input.button("Calculate").on("click",(()=>{i.element.disabled=!0,setTimeout((()=>{!function(t){const i=new MarkovSwitching(n.value);i.fit(e.trainInput,1,l.value);const o=i.predict(e.trainInput);e.trainResult=o,e.threshold=a.value,t&&t()}((()=>{i.element.disabled=!1}))}),0)}))}