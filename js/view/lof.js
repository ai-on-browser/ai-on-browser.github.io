import LOF from"../../lib/model/lof.js";import Controller from"../controller.js";export default function(t){t.setting.ml.usage='Click and add data point. Then, click "Calculate".';const n=new Controller(t),e=t.task;let l=5;const o=function(){const n=r.value;let o=new LOF(l);if("AD"===e){const e=o.predict(t.trainInput);t.trainResult=e.map((t=>t>n))}else{const e=a.value,l=t.trainInput.rolling(e),i=o.predict(l);for(let t=0;t<e/2;t++)i.unshift(1);t.trainResult=i,t._plotter.threshold=n}};let a;"CP"===e&&(a=n.input.number({label:" window = ",min:1,max:100,value:10}).on("change",o));const i=n.input.number({label:" k = ",min:1,max:10,value:l}).on("change",(()=>{l=i.value})),r=n.input.number({label:" threshold = ",min:0,max:100,step:.1,value:2}).on("change",o);n.input.button("Calculate").on("click",o)}