import LOF from"../../lib/model/lof.js";var dispLOF=function(t,e){const n=e.task;let a=5;const r=function(){const r=+t.select("[name=threshold]").property("value");let p=new LOF(a);if("AD"===n){const t=p.predict(e.trainInput);e.trainResult=t.map((t=>t>r))}else{const n=+t.select("[name=window]").property("value"),a=e.trainInput.rolling(n),i=p.predict(a);for(let t=0;t<n/2;t++)i.unshift(1);e.trainResult=i,e._plotter.threshold=r}};"CP"===n&&(t.append("span").text(" window = "),t.append("input").attr("type","number").attr("name","window").attr("value",10).attr("min",1).attr("max",100).on("change",(function(){r()}))),t.append("span").text(" k = "),t.append("input").attr("type","number").attr("value",a).attr("min",1).attr("max",10).on("change",(function(){a=+d3.select(this).property("value")})),t.append("span").text(" threshold = "),t.append("input").attr("type","number").attr("name","threshold").attr("value",2).attr("min",0).attr("max",100).property("required",!0).attr("step",.1).on("change",(function(){r()})),t.append("input").attr("type","button").attr("value","Calculate").on("click",r)};export default function(t){t.setting.ml.usage='Click and add data point. Then, click "Calculate".',dispLOF(t.setting.ml.configElement,t)}