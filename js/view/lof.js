import LOF from"../../lib/model/lof.js";var dispLOF=function(t,e){const n=e.task;let a=5;const p=function(){const p=+t.select("[name=threshold]").property("value");let r=new LOF(a);"AD"===n?e.fit(((t,e,n)=>{n(r.predict(t).map((t=>t>p)))})):e.fit(((e,n,a)=>{const i=+t.select("[name=window]").property("value"),o=e.rolling(i),l=r.predict(o);for(let t=0;t<i/2;t++)l.unshift(1);a(l,p)}))};"CP"===n&&(t.append("span").text(" window = "),t.append("input").attr("type","number").attr("name","window").attr("value",10).attr("min",1).attr("max",100).on("change",(function(){p()}))),t.append("span").text(" k = "),t.append("input").attr("type","number").attr("value",a).attr("min",1).attr("max",10).on("change",(function(){a=+d3.select(this).property("value")})),t.append("span").text(" threshold = "),t.append("input").attr("type","number").attr("name","threshold").attr("value",2).attr("min",0).attr("max",100).property("required",!0).attr("step",.1).on("change",(function(){p()})),t.append("input").attr("type","button").attr("value","Calculate").on("click",p)};export default function(t){t.setting.ml.usage='Click and add data point. Then, click "Calculate".',dispLOF(t.setting.ml.configElement,t)}