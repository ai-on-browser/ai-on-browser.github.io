import LOF from"../../lib/model/lof.js";import Controller from"../controller.js";export default function(n){n.setting.ml.usage='Click and add data point. Then, click "Calculate".';const t=new Controller(n),e=n.task;let l=5;const o=function(){const t=u.value;let o=new LOF(l);if("AD"===e){const e=o.predict(n.trainInput);n.trainResult=e.map((n=>n>t))}else{const e=a.value,l=n.trainInput.rolling(e),i=o.predict(l);for(let n=0;n<e/2;n++)i.unshift(1);n.trainResult=i,n.threshold=t}};let a;"CP"===e&&(a=t.input.number({label:" window = ",min:1,max:100,value:10}).on("change",o));const i=t.input.number({label:" k = ",min:1,max:10,value:l}).on("change",(()=>{l=i.value})),u=t.input.number({label:" threshold = ",min:0,max:100,step:.1,value:2}).on("change",o);t.input.button("Calculate").on("click",o)}