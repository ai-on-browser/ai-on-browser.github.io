import GrowingNeuralGas from"../../lib/model/growing_neural_gas.js";import Controller from"../controller.js";var dispGrowingNeuralGas=function(e,t){const n=new Controller(t);let a=null;const r=n.stepLoopButtons().init((()=>{const n=+e.select("[name=l]").property("value"),r=+e.select("[name=m]").property("value");a=new GrowingNeuralGas(n,r),e.select("[name=clusternumber]").text(a.size+" clusters"),t.init()}));e.append("span").attr("name","clusternumber").style("padding","0 10px").text("0 clusters"),e.append("span").text(" l "),e.append("input").attr("type","number").attr("name","l").attr("max",10).attr("step",.1).attr("value",1).on("change",(()=>{const t=+e.select("[name=l]").property("value");a._l=t})),e.append("span").text("*="),e.append("input").attr("type","number").attr("name","m").attr("max",1).attr("min",1e-4).attr("step",1e-4).attr("value",.9999).on("change",(()=>{const t=+e.select("[name=m]").property("value");a._m=t})),r.step((n=>{t.fit(((e,t,n)=>{a.fit(e);n(a.predict(e).map((e=>e+1)))})),t.centroids(a._nodes,a._nodes.map(((e,t)=>t+1)),{line:!0,duration:10}),t.predict(((t,n)=>{n(a.predict(t).map((e=>e+1))),e.select("[name=l]").property("value",a._l)}),4),e.select("[name=clusternumber]").text(a.size+" clusters"),n&&setTimeout(n,10)}))};export default function(e){e.setting.ml.usage='Click and add data point. Next, click "Add centroid" to add centroid. Finally, click "Step" button repeatedly.',dispGrowingNeuralGas(e.setting.ml.configElement,e)}