import GrowingNeuralGas from"../../lib/model/growing_neural_gas.js";import Controller from"../controller.js";var dispGrowingNeuralGas=function(t,e){const n=new Controller(e);let a=null;const r=n.stepLoopButtons().init((()=>{const n=+t.select("[name=l]").property("value"),r=+t.select("[name=m]").property("value");a=new GrowingNeuralGas(n,r),t.select("[name=clusternumber]").text(a.size+" clusters"),e.init()}));t.append("span").attr("name","clusternumber").style("padding","0 10px").text("0 clusters"),t.append("span").text(" l "),t.append("input").attr("type","number").attr("name","l").attr("max",10).attr("step",.1).attr("value",1).on("change",(()=>{const e=+t.select("[name=l]").property("value");a._l=e})),t.append("span").text("*="),t.append("input").attr("type","number").attr("name","m").attr("max",1).attr("min",1e-4).attr("step",1e-4).attr("value",.9999).on("change",(()=>{const e=+t.select("[name=m]").property("value");a._m=e})),r.step((n=>{a.fit(e.trainInput);const r=a.predict(e.trainInput);e.trainResult=r.map((t=>t+1)),e.centroids(a._nodes,a._nodes.map(((t,e)=>e+1)),{line:!0,duration:10});const l=a.predict(e.testInput(4));e.testResult(l.map((t=>t+1))),t.select("[name=l]").property("value",a._l),t.select("[name=clusternumber]").text(a.size+" clusters"),n&&setTimeout(n,10)}))};export default function(t){t.setting.ml.usage='Click and add data point. Next, click "Add centroid" to add centroid. Finally, click "Step" button repeatedly.',dispGrowingNeuralGas(t.setting.ml.configElement,t)}