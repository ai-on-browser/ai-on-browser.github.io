import Matrix from"../../lib/util/matrix.js";import AverageShiftedHistogram from"../../lib/model/average_shifted_histogram.js";import Controller from"../controller.js";import{specialCategory}from"../utils.js";var dispAverageShiftedHistogram=function(t,a){const e=new Controller(a),i=()=>{const t=a.width/(a.datas.domain[0][1]-a.datas.domain[0][0]),e=new AverageShiftedHistogram({domain:a.datas.domain,size:n.value/t},o.value).fit(a.trainInput);let i=Matrix.fromArray(e).value;const r=Math.max(...i);i=i.map((t=>specialCategory.density(t/r))),a.testInput(n.value),a.testResult(i)},n=e.input.number({label:"bin size ",min:1,max:100,value:10}).on("change",i),o=e.input.number({label:"aggregate ",min:1,max:100,value:10}).on("change",i);e.input.button("Fit").on("click",(()=>i()))};export default function(t){t.setting.ml.usage='Click and add data point. Next, click "Fit" button.',dispAverageShiftedHistogram(t.setting.ml.configElement,t)}