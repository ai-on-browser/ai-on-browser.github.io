import AverageShiftedHistogram from"../../lib/model/average_shifted_histogram.js";import Controller from"../controller.js";import{specialCategory}from"../utils.js";export default function(t){t.setting.ml.usage='Click and add data point. Next, click "Fit" button.';const e=new Controller(t),a=()=>{const e=new AverageShiftedHistogram({domain:t.datas.domain,size:i.value},n.value);e.fit(t.trainInput);const a=e.predict(t.testInput(3)),o=a.reduce(((t,e)=>Math.max(t,e)),-1/0),r=a.map((t=>specialCategory.density(t/o)));t.testResult(r)},i=e.input.number({label:"bin size ",min:.001,max:100,step:.001,value:.01}).on("change",a),n=e.input.number({label:"aggregate ",min:1,max:100,value:10}).on("change",a);e.input.button("Fit").on("click",(()=>a()))}