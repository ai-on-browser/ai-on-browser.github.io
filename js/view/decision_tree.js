var x=Object.defineProperty;var o=(e,n)=>x(e,"name",{value:n,configurable:!0});import C from"../../lib/util/matrix.js";import{DecisionTreeClassifier as I,DecisionTreeRegression as R}from"../../lib/model/decision_tree.js";import g from"../controller.js";export default function m(e){e.setting.ml.usage='Click and add data point. Next, click "Initialize". Finally, click "Separate".',e.setting.ml.reference={title:"Decision tree (Wikipedia)",url:"https://en.wikipedia.org/wiki/Decision_tree"};const n=new g(e),r=e.task;let t=null;const d=o(function(){if(e.task==="FS"){const i=t.importance().map((s,c)=>[s,c]);i.sort((s,c)=>c[0]-s[0]);const p=e.dimension,k=i.map(s=>s[1]).slice(0,p),h=C.fromArray(e.trainInput);e.trainResult=h.col(k).toArray()}else if(e.datas.dimension<=2){let i=t.predict(e.testInput(e.datas.dimension===1?.1:1));e.testResult(i)}else{let i=t.predict(e.testInput(2));e.testResult(i)}},"dispRange"),u=r==="CF"?["CART","ID3"]:["CART"],l=n.select(u);n.input.button("Initialize").on("click",()=>{r==="CF"?t=new I(l.value):t=new R,t.init(e.trainInput,e.trainOutput.map(i=>i[0])),d(),a.value=t.depth}),n.input.button("Separate").on("click",()=>{t&&(t.fit(),d(),a.value=t.depth)});const a=n.text("0");n.text(" depth ")}o(m,"default");
