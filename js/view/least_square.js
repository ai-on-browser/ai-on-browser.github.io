import LeastSquares from"../../lib/model/least_square.js";import EnsembleBinaryModel from"../../lib/model/ensemble_binary.js";import Controller from"../controller.js";export default function(e){e.setting.ml.usage='Click and add data point. Next, click "Fit" button.',e.setting.ml.reference={title:"Least squares (Wikipedia)",url:"https://en.wikipedia.org/wiki/Least_squares"},e.setting.ml.detail="\nThe model form is\n$$\nf(X) = \\sum_{k=1}^m a_k g_k(X) + \\epsilon\n$$\n\nIn the least-squares setting, the loss function can be written as\n$$\nL(W) = \\| f(X) - y \\|^2\n$$\nwhere $ y $ is the observed value corresponding to $ X $.\nTherefore, the optimum parameter $ \\hat{a} $ is estimated as\n$$\n\\hat{a} = \\left( G^T G \\right)^{-1} G^T y\n$$\nwhere $ G_{ij} = g_i(x_j) $.\n";const t=new Controller(e);let n=null;"CF"===e.task&&(n=t.select(["oneone","onerest"])),t.input.button("Fit").on("click",(()=>(()=>{let t;t="CF"===e.task?new EnsembleBinaryModel(LeastSquares,n.value):new LeastSquares,t.fit(e.trainInput,e.trainOutput);let s=t.predict(e.testInput(2));e.testResult(s)})()))}