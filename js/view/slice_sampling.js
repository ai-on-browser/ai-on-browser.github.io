import Matrix from"../../lib/util/matrix.js";import SliceSampling from"../../lib/model/slice_sampling.js";var dispSS=function(t,a){t.append("select").attr("name","distribution").selectAll("option").data(["gaussian"]).enter().append("option").attr("value",(t=>t)).text((t=>t)),t.append("input").attr("type","button").attr("value","Sample").on("click",(()=>{a.fit(((a,i,e)=>{a=Matrix.fromArray(a);let n;if("gaussian"===t.select("[name=distribution]").property("value")){const t=a.mean(0),i=a.cov().inv();n=a=>{const e=Matrix.fromArray(a.concat());return e.sub(t.t),Math.exp(-e.tDot(i).dot(e).toScaler()/2)}}e(new SliceSampling(n,a.cols,1).sample(a.rows))}))}))};export default function(t){t.setting.ml.usage='Click and add data point. Finally, click "Sample" button.',t.setting.terminate=dispSS(t.setting.ml.configElement,t)}