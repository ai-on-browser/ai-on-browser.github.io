import ChangeFinder from"../../lib/model/change_finder.js";import Controller from"../controller.js";export default function(e){e.setting.ml.draft=!0,e.setting.ml.usage='Click and add data point. Click "fit" to update.';let t=null;const n=new Controller(e),l=(n=!0)=>{if(!t||n){t=new ChangeFinder(a.value,i.value,o.value);const n=e.trainInput.map((e=>e[0]));t.fit(n)}const l=t.predict();e.trainResult=l,e.threshold=r.value},a=(n.select(["sdar"]),n.input.number({label:"p",min:1,max:1e3,value:2})),i=n.input.number({label:"r",min:0,max:1,step:.1,value:.5}),o=n.input.number({label:"smooth",min:1,max:100,value:10});n.input.button("Fit").on("click",(()=>l()));const r=n.input.number({label:" threshold = ",min:0,max:100,step:.1,value:.8}).on("change",(()=>{l(!1)}))}