var o=Object.defineProperty;var r=(s,t)=>o(s,"name",{value:t,configurable:!0});import{BasePlatform as i}from"./base.js";import n from"../renderer/util/lineplot.js";import a from"../renderer/document.js";export default class l extends i{static{r(this,"DocumentPlatform")}constructor(t){super(t),this._renderer.forEach(e=>e.terminate()),this._renderer=[new a(t)]}init(){this.render(),this._loss&&(this._loss.terminate(),this._loss=null)}get trainInput(){let t=this.datas.x[0].map(e=>e.toLowerCase());for(const e of this._manager.preprocesses)t=e.apply(t,{dofit:!0});return t}set trainResult(t){this._renderer.forEach(e=>e.trainResult=t)}testInput(){let t=this._renderer[0].testData();for(const e of this._manager.preprocesses)t=e.apply(t,{dofit:!1});return t}testResult(t){this._renderer[0].testResult(t)}plotLoss(t){this._loss||(this._loss=new n(this.setting.footer)),this._loss.add(t)}terminate(){this._loss&&this._loss.terminate(),super.terminate()}}
