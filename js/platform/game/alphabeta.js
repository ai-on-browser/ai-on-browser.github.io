var l=Object.defineProperty;var _=(u,t)=>l(u,"name",{value:t,configurable:!0});export default class y{static{_(this,"AlphaBetaPlayer")}constructor(t=5){this._d=t}set turn(t){this._turn=t}_alphabeta(t,i,o,s,c){if(i===0)return t.score(this._turn);const h=t.choices(o),n=t.nextTurn(o);if(h.length===0)return this._alphabeta(t,i-1,n,s,c);if(o===this._turn){for(const r of h){const e=t.copy();e.set(r,o);const f=this._alphabeta(e,i-1,n,s,c);if(s=Math.max(s,f),s>=c)break}return s}else{for(const r of h){const e=t.copy();e.set(r,o);const f=this._alphabeta(e,i-1,n,s,c);if(c=Math.min(c,f),s>=c)break}return c}}action(t){const i=t.choices(this._turn),o=t.nextTurn(this._turn);let s=[],c=-1/0;for(const n of i){const r=t.copy();r.set(n,this._turn);const e=this._alphabeta(r,this._d-1,o,-1/0,1/0);e>c?(c=e,s=[n]):e===c&&s.push(n)}const h=s[Math.floor(Math.random()*s.length)];return new Promise(n=>setTimeout(()=>n(h),100))}close(){}}
