var l=Object.defineProperty;var c=(a,s)=>l(a,"name",{value:s,configurable:!0});import"https://cdn.jsdelivr.net/npm/pdfjs-dist@3.11.174/build/pdf.min.js";import"https://cdnjs.cloudflare.com/ajax/libs/encoding-japanese/2.0.0/encoding.min.js";pdfjsLib.GlobalWorkerOptions.workerSrc="https://cdn.jsdelivr.net/npm/pdfjs-dist@3.11.174/build/pdf.worker.min.js";export default class u{static{c(this,"DocumentLoader")}static load(s){return new Promise(r=>{const t=new FileReader;t.readAsArrayBuffer(s),t.onload=()=>{if(s.type==="application/pdf")pdfjsLib.getDocument({data:t.result,cMapUrl:"https://cdn.jsdelivr.net/npm/pdfjs-dist@3.11.174/cmaps/",cMapPacked:!0}).promise.then(async e=>{const n=e.numPages;let o="";for(let i=1;i<=n;i++){const d=await(await e.getPage(i)).getTextContent();o+=d.items.map(p=>p.str).join("")}r(o)});else{const e=new Uint8Array(t.result),n=Encoding.detect(e),o=Encoding.convert(e,{to:"unicode",from:n,type:"string"});r(o)}}})}static segment(s){return s.split(/[ -@\[-`{-~\s]+/)}static ordinal(s,{ignoreCase:r=!0}={}){const t=[],e=[];for(const n of s){const o=t.indexOf(r?n.toLowerCase():n);o<0?(t.push(r?n.toLowerCase():n),e.push(t.length-1)):e.push(o)}return[t,e]}}
