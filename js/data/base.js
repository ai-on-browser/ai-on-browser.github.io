var u=Object.defineProperty;var a=(s,e)=>u(s,"name",{value:e,configurable:!0});export class BaseData{static{a(this,"BaseData")}constructor(e){this._x=[],this._y=[],this._index=null,this._manager=e}get setting(){return this._manager.setting}get availTask(){return[]}get dimension(){const e=this.x;return e.length===0?0:e[0].length}get domain(){if(this.length===0)return[];const e=[];for(let n=0;n<this.x[0].length;n++)e.push([1/0,-1/0]);for(const n of this.x)if(!Array.isArray(n[0]))for(let t=0;t<n.length;t++)e[t][0]=Math.min(e[t][0],n[t]),e[t][1]=Math.max(e[t][1],n[t]);return e}get range(){const e=[1/0,-1/0];for(const n of this.y)e[0]=Math.min(e[0],n),e[1]=Math.max(e[1],n);return e}get indexRange(){const e=this.index,n=[1/0,-1/0];if(!e)return n;for(const t of e)n[0]=Math.min(n[0],t),n[1]=Math.max(n[1],t);return n}get length(){return this.x.length||this.y.length||this.index?.length||0}get columnNames(){const e=[];for(let n=0;n<this.dimension;n++)e[n]=`${n}`;return e}get x(){return this._x}get originalX(){return this.x}get y(){return this._y}get originalY(){return this.y}get index(){return this._index}get labels(){return this.originalY}get params(){return{}}set params(e){}terminate(){this.setting.data.configElement.replaceChildren()}}export class EmptyData extends BaseData{static{a(this,"EmptyData")}constructor(e){super(e)}get availTask(){return["MD","GM"]}get dimension(){return 0}get domain(){return[]}get range(){return[1/0,-1/0]}get indexRange(){return[1/0,-1/0]}get length(){return 0}get columnNames(){return[]}get x(){return[]}get y(){return[]}get index(){return[]}get points(){return[]}}export class MultiDimensionalData extends BaseData{static{a(this,"MultiDimensionalData")}constructor(e){super(e),this._categorical_output=!1,this._input_category_names=[],this._output_category_names=null}get columnNames(){return this._feature_names||[]}get inputCategoryNames(){return this._input_category_names}get originalX(){if(this._input_category_names.length===0)return this._x;const e=[];for(let n=0;n<this._x.length;n++){e[n]=[];for(let t=0;t<this._x[n].length;t++)e[n][t]=this._input_category_names[t]?this._input_category_names[t][this._x[n][t]]:this._x[n][t]}return e}get outputCategoryNames(){return this._output_category_names}get originalY(){return this._categorical_output?this._originalY:this._y}setArray(e,n){this._categorical_output=!1,this._input_category_names=[],this._output_category_names=null,this._originalY=void 0,this._x=[];for(let t=0;t<e.length;t++)this._x[t]=[];this._y=[];for(let t=0,r=0;t<n.length;t++)if(!n[t].ignore)if(n[t].type||(n[t].type=e.every(i=>!isNaN(i[t]))?"numeric":"category"),n[t].out)this._categorical_output=n[t].type==="category",this._y=e.map(i=>isNaN(i[t])?i[t]:+i[t]),this._categorical_output&&(this._output_category_names=[...new Set(this._y)],this._originalY=this._y,this._y=this._y.map(i=>this._output_category_names.indexOf(i)+1),n[t].labels&&(this._output_category_names[r]=this._output_category_names[r].map(i=>Object.hasOwn(n[t].labels,i)?n[t].labels[i]:i)));else{if(n[t].type==="category"){this._input_category_names[r]=[...new Set(e.map(i=>i[t]))];for(let i=0;i<e.length;i++)this._x[i].push(this._input_category_names[r].indexOf(e[i][t]));n[t].labels&&(this._input_category_names[r]=this._input_category_names[r].map(i=>Object.hasOwn(n[t].labels,i)?n[t].labels[i]:i))}else for(let i=0;i<e.length;i++)this._x[i].push(isNaN(e[i][t])?e[i][t]:+e[i][t]);r++}this._feature_names=n.filter(t=>!t.out&&!t.ignore).map(t=>t.name),this._domain=null,this._manager.onReady(()=>{this._manager.platform.init()})}}export class FixData extends MultiDimensionalData{static{a(this,"FixData")}constructor(e){super(e),this._domain=null}get domain(){return this._domain?this._domain:this._domain=super.domain}}
