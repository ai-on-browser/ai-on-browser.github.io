export function coRankingMatrix(r,t,l,e){const f=r.length,o=[],a=[];for(let r=0;r<f;r++)o[r]=Array(f).fill(0),a[r]=Array(f).fill(0);for(let l=0;l<f;l++)for(let e=l+1;e<f;e++)o[l][e]=o[e][l]=Math.sqrt(r[l].reduce(((t,l,f)=>t+(l-r[e][f])**2),0)),a[l][e]=a[e][l]=Math.sqrt(t[l].reduce(((r,l,f)=>r+(l-t[e][f])**2),0));const n=[],i=[];for(let r=0;r<f;r++){n[r]=Array(f).fill(0),i[r]=Array(f).fill(0);for(let t=0;t<f;t++)for(let l=0;l<f;l++)(o[r][l]<o[r][t]||o[r][l]===o[r][t]&&l<t)&&n[r][t]++,(a[r][l]<a[r][t]||a[r][l]===a[r][t]&&l<t)&&i[r][t]++}let c=0;for(let r=0;r<f;r++)for(let t=0;t<f;t++){c+=(n[r][t]>l&&i[r][t]>l?0:1)*(Math.abs(n[r][t]-i[r][t])>e?0:1)}return c/(l*f)}