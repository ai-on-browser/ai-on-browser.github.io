export default class OtsusThresholding{constructor(){this._count=200}predict(t){this._x=t;const s=this._x.length,h=t.reduce(((t,s)=>Math.max(t,s)),-1/0),e=t.reduce(((t,s)=>Math.min(t,s)),1/0),i=[];for(let t=0;t<this._count;t++)i[t]=t*(h-e)/this._count+e;i.push(h);let o=0,r=0;for(let t=0;t<i.length;t++){let h=0,e=0,c=0,n=0;for(let o=0;o<s;o++)this._x[o]<i[t]?(h++,c+=this._x[o]):(e++,n+=this._x[o]);c/=h,n/=e;const _=h/s*(e/s)*(c-n)**2;r<_&&(r=_,o=t)}return this._t=i[o],this._x.map((t=>t<this._t?0:1))}}