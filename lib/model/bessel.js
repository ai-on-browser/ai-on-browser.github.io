var a=Object.defineProperty;var r=(s,t)=>a(s,"name",{value:t,configurable:!0});const M=r((s,t,n,e,o,c)=>{const h=s/2,l=2*Math.PI/s;if(s>1){for(let f=0;f<h;f++){const b=Math.cos(f*l),y=-Math.sin(f*l),i=t[f+o],_=n[f+o],u=t[f+o+h],p=n[f+o+h];t[f+o]=i+u,n[f+o]=_+p,t[f+o+h]=(i-u)*b-(_-p)*y,n[f+o+h]=(_-p)*b+(i-u)*y}M(s/2,t,n,2*e,o,c),M(s/2,t,n,2*e,o+h,c+e)}else o>c&&([t[o],t[c]]=[t[c],t[o]],[n[o],n[c]]=[n[c],n[o]])},"f"),v=r((s,t=null)=>{const n=s.length;if(!Number.isInteger(Math.log2(n)))throw"Invalid value length.";return t||(t=Array(n).fill(0)),M(n,s,t,1,0,0),[s,t]},"fft"),g=r((s,t)=>(t=t.map(n=>-n),v(s,t),s=s.map(n=>n/s.length),t=t.map(n=>-n/s.length),[s,t]),"ifft"),I=r((s,t=null)=>{const n=s.length;t||(t=Array(n).fill(0));const e=Array(n).fill(0),o=Array(n).fill(0),c=-2*Math.PI/n;for(let h=0;h<n;h++)for(let l=0;l<n;l++)e[h]+=s[l]*Math.cos(l*h*c)-t[l]*Math.sin(l*h*c),o[h]+=s[l]*Math.sin(l*h*c)+t[l]*Math.cos(l*h*c);return[e,o]},"dft"),A=r((s,t)=>{t=t.map(o=>-o);let[n,e]=I(s,t);return n=n.map(o=>o/s.length),e=e.map(o=>-o/s.length),[n,e]},"idft"),w=r((s,t=null)=>{const n=s.length;return Number.isInteger(Math.log2(n))?v(s,t):I(s,t)},"ft"),N=r((s,t)=>{const n=s.length;return Number.isInteger(Math.log2(n))?g(s,t):A(s,t)},"ift");export default class k{static{r(this,"BesselFilter")}constructor(t=2,n=.5){this._c=n,this._n=t,this._coef=[];for(let e=0;e<=this._n;e++){let o=1;for(let c=0;c<this._n;c++)o*=2*this._n-e-c,c<e?o/=c+1:o/=2;this._coef[e]=o}}_reverse_bessel_polynomial(t){let n=0;for(let e=0;e<=this._n;e++)n+=this._coef[e]*t**e;return n}_cutoff(t,n,e,o){const c=this._reverse_bessel_polynomial(0)/this._reverse_bessel_polynomial(t/n);return[e*c,o*c]}predict(t){const[n,e]=w(t),o=t.length/2,c=Math.floor(o*(1-this._c));for(let l=1;l<=o;l++)l>=c&&(n[l]=e[l]=0),l!==o&&([n[t.length-l],e[t.length-l]]=this._cutoff(l,c,n[t.length-l],e[t.length-l]));const[h]=N(n,e);return h}}
