var o=Object.defineProperty;var f=(_,t)=>o(_,"name",{value:t,configurable:!0});export default class m{static{f(this,"YeoJohnson")}constructor(t=null){this._lambda=t,this._lambda_cand=[];for(let r=0;r<=200;r++)this._lambda_cand.push((r-100)/10)}_cdf(t){return 1/(1+Math.exp(-1.7*t))}_ppf(t){if(t>=1)return 1/0;if(t===.5)return 0;if(t<.5)return-this._ppf(1-t);let r=0,e=null,a=1;const n=1e-8;let l=1e4;for(;l-- >0;){const s=this._cdf(a);if(Math.abs(s-t)<n)return a;t<s?(e=a,a=(a+r)/2):(r=a,a=e===null?a*2:(a+e)/2)}throw"loop converged"}_j(t,r){const e=t.length,a=t.map(i=>this._t(i,r));a.sort((i,h)=>i-h);const n=a.reduce((i,h)=>i+h,0)/e,l=Math.sqrt(a.reduce((i,h)=>i+(h-n)**2,0)/e);let s=0;for(let i=0;i<e;i++)s+=(this._ppf((i+.5)/e)-(a[i]-n)/l)**2;return s}_t(t,r){return t>=0?r===0?Math.log(t+1):((t+1)**r-1)/r:r===2?-Math.log(-t+1):-((-t+1)**(2-r)-1)/(2-r)}fit(t){const r=[];if(Array.isArray(t[0]))for(let e=0;e<t[0].length;e++)r[e]=t.map(a=>a[e]);else r[0]=t;this._lambda=[];for(let e=0;e<r.length;e++){let a=1/0,n=0;for(const l of this._lambda_cand){const s=this._j(r[e],l);s<a&&(a=s,n=l)}this._lambda.push(n)}Array.isArray(t[0])||(this._lambda=this._lambda[0])}predict(t){return t.map(r=>Array.isArray(r)?Array.isArray(this._lambda)?r.map((e,a)=>this._t(e,this._lambda[a])):r.map(e=>this._t(e,this._lambda)):Array.isArray(this._lambda)?this._t(r,this._lambda[0]):this._t(r,this._lambda))}}
