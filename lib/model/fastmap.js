export default class FastMap{predict(t,e){const r=[],l=t.length,o=t[0].length;for(let t=0;t<l;r[t++]=[]);for(let e=0;e<l;e++){r[e][e]=0;for(let f=e+1;f<l;f++){let l=0;for(let r=0;r<o;r++)l+=(t[e][r]-t[f][r])**2;r[e][f]=r[f][e]=Math.sqrt(l)}}const f=t=>{let e=-1,r=-1/0;for(let l=0;l<t.length;l++)r<t[l]&&(r=t[l],e=l);return e},a=[];for(let t=0;t<l;a[t++]=[]);for(let t=0;t<e;t++){const e=f(r[Math.floor(Math.random()*l)]),o=f(r[e]);for(let f=0;f<l;f++)a[f][t]=(r[e][f]**2+r[e][o]**2-r[o][f]**2)/(2*r[e][o]);for(let e=0;e<l;e++)for(let o=e+1;o<l;o++)r[e][o]=r[o][e]=Math.sqrt(r[e][o]**2-(a[e][t]-a[o][t])**2)}return a}}