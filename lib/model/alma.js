var u=Object.defineProperty;var p=(a,t)=>u(a,"name",{value:t,configurable:!0});export default class d{static{p(this,"ALMA")}constructor(t=2,h=1,s=1,e=1){this._p=t,this._alpha=h,this._b=s,this._c=e,this._w=null,this._w0=0,this._k=1}update(t,h){const s=this._b*Math.sqrt((this._p-1)/this._k);if(this._w.reduce((i,_,l)=>i+_*t[l],this._w0)*h>(1-this._alpha)*s)return;const r=this._c/Math.sqrt((this._p-1)*this._k),c=this._w.map((i,_)=>t[_]*r*h+i),n=r*h+this._w0,w=c.reduce((i,_)=>i+_**this._p,n**this._p)**(1/this._p),o=Math.max(1,w);this._w=c.map(i=>i/o),this._w0=n/o,this._k++}fit(t,h){this._w||(this._w=Array(t[0].length).fill(0));for(let s=0;s<t.length;s++)this.update(t[s],h[s])}predict(t){const h=[];for(let s=0;s<t.length;s++){const e=t[s].reduce((r,c,n)=>r+c*this._w[n],this._w0);h[s]=e<=0?-1:1}return h}}
