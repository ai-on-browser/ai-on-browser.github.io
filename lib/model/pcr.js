var e=Object.defineProperty;var c=(i,r)=>e(i,"name",{value:r,configurable:!0});import s from"../util/matrix.js";import{PCA as h}from"./pca.js";export default class f{static{c(this,"PCR")}constructor(){this._pca=new h,this._rd=0}fit(r,t){r=s.fromArray(r),t=s.fromArray(t),this._pca.fit(r);const o=s.fromArray(this._pca.predict(r,this._rd));o.resize(o.rows,o.cols+1,1);const a=o.tDot(o);this._w=a.solve(o.t).dot(t)}predict(r){r=s.fromArray(r);const t=s.fromArray(this._pca.predict(r,this._rd));return t.resize(t.rows,t.cols+1,1),t.dot(this._w).toArray()}}
