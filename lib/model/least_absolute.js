var f=Object.defineProperty;var n=(l,t)=>f(l,"name",{value:t,configurable:!0});import o from"../util/matrix.js";export default class u{static{n(this,"LeastAbsolute")}constructor(){this._w=null}fit(t,r){t=o.fromArray(t),r=o.fromArray(r);const a=t.rows,c=o.resize(t,a,t.cols+1,1);this._w===null&&(this._w=o.randn(c.cols,r.cols));const h=c.dot(this._w),i=o.sub(r,h);i.map(s=>1/(Math.abs(s)+1e-8));for(let s=0;s<this._w.cols;s++){const e=o.mult(c,i.col(s)),w=e.tDot(c).solve(e.tDot(r.col(s)));this._w.set(0,s,w)}}predict(t){return t=o.fromArray(t),o.resize(t,t.rows,t.cols+1,1).dot(this._w).toArray()}}
