import Matrix from"../util/matrix.js";export default class RandomProjection{constructor(t="uniform"){this._init=t}predict(t,r=0){t=Matrix.fromArray(t);const i=r<=0?t.cols:r;if("root3"===this._init){this._w=Matrix.zeros(t.cols,i);const r=Math.sqrt(3);for(let t=0;t<this._w.length;t++){const i=Math.random();i<1/6?this._w.value[t]=r:i<1/3&&(this._w.value[t]=-r)}}else"normal"===this._init?this._w=Matrix.randn(t.cols,i):this._w=Matrix.random(t.cols,i,-1,1);return t.dot(this._w).toArray()}}