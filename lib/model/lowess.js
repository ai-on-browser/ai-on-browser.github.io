var n=Object.defineProperty;var _=(c,t)=>n(c,"name",{value:t,configurable:!0});import o from"../util/matrix.js";export default class m{static{_(this,"LOWESS")}constructor(){this._k=(t,i)=>{const h=o.sub(t,i);h.map(r=>r*r);const s=h.sum(1);return s.map(r=>r<=1?(1-Math.sqrt(r)**3)**3:0),s}}fit(t,i){this._x=o.fromArray(t),this._b=o.resize(this._x,this._x.rows,this._x.cols+1,1),this._y=o.fromArray(i)}predict(t){t=o.fromArray(t);const i=[];for(let h=0;h<t.rows;h++){const s=t.row(h),r=this._k(this._x,s),e=o.mult(this._b,r),a=e.tDot(this._b).solve(e.tDot(this._y));i.push(o.resize(s,s.rows,s.cols+1,1).dot(a).value)}return i}}
