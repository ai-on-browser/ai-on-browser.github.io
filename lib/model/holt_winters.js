export default class HoltWinters{constructor(s,t=0,h=0,i=0){this._a=s,this._b=t,this._g=h,this._s=i}fit(s){const t=[s[0]];this._d=s[0].length,this._level=s[0].concat(),this._trend=Array(this._d).fill(0),this._season=[];for(let s=0;s<this._s;s++)this._season[s]=Array(this._d).fill(0);for(let h=1;h<s.length;h++){const i=[];for(let t=0;t<this._d;t++){const _=this._a*(this._s<=0?s[h][t]:s[h][t]-this._season[h%this._s][t])+(1-this._a)*(this._level[t]+this._trend[t]);this._trend[t]=this._b*(_-this._level[t])+(1-this._b)*this._trend[t],i[t]=_+this._trend[t],this._level[t]=_,this._s>0&&(this._season[h%this._s][t]=this._g*(s[h][t]-_)+(1-this._g)*this._season[h%this._s][t])}t.push(i)}return this._step_offset=s.length+1,t}predict(s){const t=[];for(let h=0;h<s;h++){const s=[];for(let t=0;t<this._d;t++)s[t]=this._level[t]+this._trend[t]*(h+1),this._s>0&&(s[t]+=this._season[(h+this._step_offset)%this._s][t]);t.push(s)}return t}}