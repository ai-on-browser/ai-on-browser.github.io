export default class MarginPerceptron{constructor(t){this._r=t,this._g=1}init(t,h){this._x=t,this._y=h,this._epoch=0,this._w=Array(this._x[0].length).fill(0),this._c=0}fit(){this._epoch++;for(let t=0;t<this._x.length;t++){const h=this._x[t].reduce(((t,h,i)=>t+h*this._w[i]),this._c);if(this._y[t]*h<=this._g){for(let h=0;h<this._x[t].length;h++)this._w[h]+=this._r*this._y[t]*this._x[t][h];this._c+=this._r*this._y[t]}}}predict(t){const h=[];for(let i=0;i<t.length;i++){const s=t[i].reduce(((t,h,i)=>t+h*this._w[i]),this._c);h.push(s<=0?-1:1)}return h}}