export default class BudgetPerceptron{constructor(t,s){this._beta=t,this._n=s}init(t,s){this._x=t,this._y=s,this._k=0,this._w=Array(this._x[0].length).fill(0),this._c=0,this._s=[]}fit(){for(let t=0;t<this._x.length;t++){if(this._x[t].reduce(((t,s,h)=>t+s*this._w[h]),this._c)*this._y[t]<=this._beta){for(let s=0;s<this._x[t].length;s++)this._w[s]+=this._y[t]*this._x[t][s];this._c+=this._y[t];for(let t=this._s.length-1;t>=0;t--){const s=this._s[t];this._x[s].reduce(((t,h,i)=>t+h*(this._w[i]-this._y[i]*this._x[s][i])),this._c-this._y[s])*this._y[s]>this._beta||this._s.splice(t,1)}this._s.push(t)}}}predict(t){const s=[];for(let h=0;h<t.length;h++){const i=t[h].reduce(((t,s,h)=>t+s*this._w[h]),this._c);s.push(i<=0?-1:1)}return s}}