var f=Object.defineProperty;var p=(o,h)=>f(o,"name",{value:h,configurable:!0});export default class u{static{p(this,"BudgetPerceptron")}constructor(h,e){this._beta=h,this._n=e,this._w=null,this._c=0,this._s=[]}fit(h,e){this._w||(this._w=Array(h[0].length).fill(0));for(let i=0;i<h.length;i++)if(h[i].reduce((s,t,_)=>s+t*this._w[_],this._c)*e[i]<=this._beta){for(let s=0;s<h[i].length;s++)this._w[s]+=e[i]*h[i][s];if(this._c+=e[i],this._n<=0)for(let s=this._s.length-1;s>=0;s--){const t=this._s[s];t.x.reduce((n,l,c)=>n+l*(this._w[c]-t.y*t.x[c]),this._c-t.y)*t.y>this._beta||this._s.splice(s,1)}else if(this._s.length>=this._n){const s=this._s.map((t,_)=>[_,t.x.reduce((n,l,c)=>n+l*(this._w[c]-t.y*t.x[c]),this._c-t.y)*t.y]);s.sort((t,_)=>_[1]-t[1]),this._s.splice(s[0][0],1)}this._s.push({x:h[i],y:e[i]})}}predict(h){const e=[];for(let i=0;i<h.length;i++){const r=h[i].reduce((s,t,_)=>s+t*this._w[_],this._c);e.push(r<=0?-1:1)}return e}}
