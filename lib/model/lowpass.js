var w=Object.defineProperty;var u=(s,t)=>w(s,"name",{value:t,configurable:!0});const _=u((s,t,n,e,o,f)=>{const c=s/2,h=2*Math.PI/s;if(s>1){for(let r=0;r<c;r++){const i=Math.cos(r*h),l=-Math.sin(r*h),p=t[r+o],M=n[r+o],a=t[r+o+c],I=n[r+o+c];t[r+o]=p+a,n[r+o]=M+I,t[r+o+c]=(p-a)*i-(M-I)*l,n[r+o+c]=(M-I)*i+(p-a)*l}_(s/2,t,n,2*e,o,f),_(s/2,t,n,2*e,o+c,f+e)}else o>f&&([t[o],t[f]]=[t[f],t[o]],[n[o],n[f]]=[n[f],n[o]])},"f"),b=u((s,t=null)=>{const n=s.length;if(!Number.isInteger(Math.log2(n)))throw"Invalid value length.";return t||(t=Array(n).fill(0)),_(n,s,t,1,0,0),[s,t]},"fft"),y=u((s,t)=>(t=t.map(n=>-n),b(s,t),s=s.map(n=>n/s.length),t=t.map(n=>-n/s.length),[s,t]),"ifft"),g=u((s,t=null)=>{const n=s.length;t||(t=Array(n).fill(0));const e=Array(n).fill(0),o=Array(n).fill(0),f=-2*Math.PI/n;for(let c=0;c<n;c++)for(let h=0;h<n;h++)e[c]+=s[h]*Math.cos(h*c*f)-t[h]*Math.sin(h*c*f),o[c]+=s[h]*Math.sin(h*c*f)+t[h]*Math.cos(h*c*f);return[e,o]},"dft"),A=u((s,t)=>{t=t.map(o=>-o);let[n,e]=g(s,t);return n=n.map(o=>o/s.length),e=e.map(o=>-o/s.length),[n,e]},"idft");export default class v{static{u(this,"LowpassFilter")}constructor(t=.5){this._c=t}_cutoff(t,n,e,o){return t>=n?[0,0]:[e,o]}predict(t){const n=t.length;let e=g,o=A;Number.isInteger(Math.log2(n))&&(e=b,o=y);const[f,c]=e(t),h=t.length/2,r=Math.floor(h*(1-this._c));for(let l=1;l<=h;l++)[f[l],c[l]]=this._cutoff(l,r,f[l],c[l]),l!==h&&([f[t.length-l],c[t.length-l]]=this._cutoff(l,r,f[t.length-l],c[t.length-l]));const[i]=o(f,c);return i}}
