var y=Object.defineProperty;var r=(o,t)=>y(o,"name",{value:t,configurable:!0});const I=r((o,t,n,f,s,e)=>{const h=o/2,c=2*Math.PI/o;if(o>1){for(let l=0;l<h;l++){const b=Math.cos(l*c),g=-Math.sin(l*c),u=t[l+s],p=n[l+s],M=t[l+s+h],i=n[l+s+h];t[l+s]=u+M,n[l+s]=p+i,t[l+s+h]=(u-M)*b-(p-i)*g,n[l+s+h]=(p-i)*b+(u-M)*g}I(o/2,t,n,2*f,s,e),I(o/2,t,n,2*f,s+h,e+f)}else s>e&&([t[s],t[e]]=[t[e],t[s]],[n[s],n[e]]=[n[e],n[s]])},"f"),_=r((o,t=null)=>{const n=o.length;if(!Number.isInteger(Math.log2(n)))throw"Invalid value length.";return t||(t=Array(n).fill(0)),I(n,o,t,1,0,0),[o,t]},"fft"),A=r((o,t)=>(t=t.map(n=>-n),_(o,t),o=o.map(n=>n/o.length),t=t.map(n=>-n/o.length),[o,t]),"ifft"),w=r((o,t=null)=>{const n=o.length;t||(t=Array(n).fill(0));const f=Array(n).fill(0),s=Array(n).fill(0),e=-2*Math.PI/n;for(let h=0;h<n;h++)for(let c=0;c<n;c++)f[h]+=o[c]*Math.cos(c*h*e)-t[c]*Math.sin(c*h*e),s[h]+=o[c]*Math.sin(c*h*e)+t[c]*Math.cos(c*h*e);return[f,s]},"dft"),a=r((o,t)=>{t=t.map(s=>-s);let[n,f]=w(o,t);return n=n.map(s=>s/o.length),f=f.map(s=>-s/o.length),[n,f]},"idft"),N=r((o,t=null)=>{const n=o.length;return Number.isInteger(Math.log2(n))?_(o,t):w(o,t)},"ft"),v=r((o,t)=>{const n=o.length;return Number.isInteger(Math.log2(n))?A(o,t):a(o,t)},"ift");export default class P{static{r(this,"LowpassFilter")}constructor(t=.5){this._c=t}_cutoff(t,n,f,s){return t>=n?[0,0]:[f,s]}predict(t){const[n,f]=N(t),s=t.length/2,e=Math.floor(s*(1-this._c));for(let c=1;c<=s;c++)[n[c],f[c]]=this._cutoff(c,e,n[c],f[c]),c!==s&&([n[t.length-c],f[t.length-c]]=this._cutoff(c,e,n[t.length-c],f[t.length-c]));const[h]=v(n,f);return h}}
