var g=Object.defineProperty;var _=(c,t)=>g(c,"name",{value:t,configurable:!0});export default class f{static{_(this,"MeanShift")}constructor(t){this._x=null,this._centroids=null,this._h=t,this._categories=0}get categories(){return this._categories}get h(){return this._h}_distance(t,s){return Math.sqrt(t.reduce((i,r,n)=>i+(r-s[n])**2,0))}init(t){this._x=t,this._centroids=this._x.map(s=>[].concat(s))}predict(t){this._categories=0;const s=[];for(let i=0;i<this._centroids.length;i++){let r=i;for(let n=0;n<i;n++)if(this._distance(this._centroids[i],this._centroids[n])<t){r=s[n];break}r===i&&this._categories++,s[i]=r}return s}fit(){if(this._centroids.length===0||this._x.length===0)return!1;let t=!1;return this._centroids=this._centroids.map(s=>{const i=s,r=this._x.map(e=>s.reduce((h,a,d)=>h+((a-e[d])/this._h)**2,0)<=1?1:0);let n=0;const o=Array(this._x[0].length).fill(0);for(let e=0;e<this._x.length;e++)if(r[e]){n+=r[e];for(let h=0;h<o.length;h++)o[h]+=this._x[e][h]*r[e]}const l=o.map(e=>e/n);return t||=i.some((e,h)=>e!==l[h]),l}),t}}
