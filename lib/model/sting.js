var b=Object.defineProperty;var M=(x,y)=>b(x,"name",{value:y,configurable:!0});export default class j{static{M(this,"STING")}constructor(){this._cells=null}fit(y){const p=y,A=p.length,o=p[0].length,_=p.reduce((s,n)=>s.map((r,e)=>Math.min(r,n[e])),Array(o).fill(1/0)),d=p.reduce((s,n)=>s.map((r,e)=>Math.max(r,n[e])),Array(o).fill(-1/0)),I=_.map((s,n)=>[s,d[n]]);this._cells={ranges:I,children:[]};let h=[this._cells];const g=2**o,k=Math.log(A/20)/Math.log(g),i=[h];for(let s=0;s<k;s++){const n=[];for(const r of h){const e=r.ranges;for(let c=0;c<g;c++){let f=c;const m=[];for(let t=0;t<o;t++){const l=(e[t][1]+e[t][0])/2;f%2===0?m.push([e[t][0],l]):m.push([l,e[t][1]]),f=Math.floor(f/2)}const a={ranges:m,children:[]};n.push(a),r.children.push(a)}}h=n,i.push(h)}for(let s=0;s<h.length;s++){const n=h[s],r=p.filter(t=>n.ranges.every((l,u)=>l[0]<=t[u]&&(l[1]===d[u]?t[u]<=l[1]:t[u]<l[1]))),e=n.n=r.length,c=Array(o).fill(0),f=n.min=Array(o).fill(1/0),m=n.max=Array(o).fill(-1/0);for(let t=0;t<e;t++)for(let l=0;l<o;l++)c[l]+=r[t][l],f[l]=Math.min(f[l],r[t][l]),m[l]=Math.max(m[l],r[t][l]);n.m=c.map(t=>e>0?t/e:0);const a=Array(o).fill(0);for(let t=0;t<e;t++)for(let l=0;l<o;l++)a[l]+=(r[t][l]-c[l])**2;n.s=a.map(t=>e>0?Math.sqrt(t/e):0)}for(let s=i.length-2;s>=0;s--)for(let n=0;n<i[s].length;n++){let r=0;const e=Array(o).fill(0),c=i[s][n].min=Array(o).fill(1/0),f=i[s][n].max=Array(o).fill(-1/0),m=Array(o).fill(0);for(const a of i[s+1].slice(n*g,(n+1)*g)){r+=a.n;for(let t=0;t<o;t++)e[t]+=a.m[t]*a.n,c[t]=Math.min(c[t],a.min[t]),f[t]=Math.max(f[t],a.max[t]),m[t]+=(a.s[t]**2+a.m[t]**2)*a.n}i[s][n].n=r,i[s][n].m=e.map(a=>r>0?a/r:0),i[s][n].s=m.map((a,t)=>r>0?Math.sqrt(a/r-e[t]**2):0)}}predict(y){}}
