var m=Object.defineProperty;var M=(u,s)=>m(u,"name",{value:s,configurable:!0});export default class b{static{M(this,"LoOP")}constructor(s){this._k=s,this._lambda=1}_distance(s,c){return Math.sqrt(s.reduce((o,a,e)=>o+(a-c[e])**2,0))}_erf(s){const c=.3275911,o=.254829592,a=-.284496736,e=1.421413741,l=-1.453152027,_=1.061405429,f=s<0?-1:1,r=1/(1+c*Math.abs(s)),t=1-((((_*r+l)*r+e)*r+a)*r+o)*r*Math.exp(-s*s);return f*t}predict(s){const c=s.length,o=[];for(let t=0;t<c;t++){o[t]=[],o[t][t]=0;for(let n=0;n<t;n++){const h=this._distance(s[t],s[n]);o[t][n]=o[n][t]=h}}const a=[],e=[];for(let t=0;t<c;t++){const n=o[t].map((i,d)=>[i,d]);n.sort((i,d)=>i[0]-d[0]);const h=n.slice(1,this._k+1).map(i=>i[1]);e[t]=h.concat();const p=e[t].reduce((i,d)=>i+o[t][d]**2,0);a[t]=this._lambda*Math.sqrt(p/e[t].length)}const l=[];for(let t=0;t<c;t++){const n=e[t].reduce((h,p)=>h+a[p],0)/e[t].length;l[t]=a[t]/n-1}const f=(this._lambda+Math.sqrt(l.reduce((t,n)=>t+n**2,0)/c))*Math.sqrt(2),r=[];for(let t=0;t<c;t++)r[t]=Math.max(0,this._erf(l[t]/f));return r}}
