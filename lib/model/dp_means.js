var f=Object.defineProperty;var o=(l,c)=>f(l,"name",{value:c,configurable:!0});export default class g{static{o(this,"DPMeans")}constructor(c){this._l=c,this._c=[],this._d=(s,h)=>Math.sqrt(s.reduce((r,e,t)=>r+(e-h[t])**2,0))}get centroids(){return this._c}fit(c){const s=c.length,h=c[0].length;if(this._c.length===0){this._c[0]=Array(h).fill(0);for(let t=0;t<s;t++)for(let i=0;i<h;i++)this._c[0][i]+=c[t][i];this._c[0]=this._c[0].map(t=>t/s)}const r=Array(s);for(let t=0;t<s;t++){let i=1/0;for(let n=0;n<this._c.length;n++){const _=this._d(c[t],this._c[n]);_<i&&(i=_,r[t]=n)}i>this._l&&(this._c.push(c[t].concat()),r[t]=this._c.length-1)}const e=Array.from(this._c,()=>0);this._c=Array.from(this._c,()=>Array(h).fill(0));for(let t=0;t<s;t++){e[r[t]]++;for(let i=0;i<h;i++)this._c[r[t]][i]+=c[t][i]}for(let t=0;t<this._c.length;t++)this._c[t]=this._c[t].map(i=>i/e[t])}predict(c){const s=[];for(let h=0;h<c.length;h++){let r=1/0;s[h]=-1;for(let e=0;e<this._c.length;e++){const t=this._d(c[h],this._c[e]);t<r&&(r=t,s[h]=e)}}return s}}
