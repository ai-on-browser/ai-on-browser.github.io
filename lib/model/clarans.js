var u=Object.defineProperty;var g=(_,e)=>u(_,"name",{value:e,configurable:!0});export default class d{static{g(this,"CLARANS")}constructor(e){this._k=e}_distance(e,c){return Math.sqrt(e.reduce((i,o,h)=>i+(o-c[h])**2,0))}_cost(e){const c=this._x.length,i=[],o=[];for(let t=0;t<c;t++){const s=e[t];if(!i[s])i[s]=this._x[t].concat(),o[s]=1;else{for(let n=0;n<this._x[t].length;n++)i[s][n]+=this._x[t][n];o[s]++}}for(let t=0;t<i.length;t++)for(let s=0;s<i[t].length;s++)i[t][s]/=o[t];let h=0;for(let t=0;t<c;t++)h+=this._distance(this._x[t],i[e[t]]);return h}init(e){this._x=e,this._categories=[];for(let c=0;c<this._x.length;c++)this._categories[c]=Math.floor(Math.random()*this._k)}fit(e,c){const i=this._x.length,o=this._categories;let h=1,t=1/0;for(;h<=e;){let s=1,n=this._cost(o);for(;s<=c;){const r=Math.floor(Math.random()*i),a=o[r],l=Math.floor(Math.random()*(this._k-1));o[r]=l>=a?l+1:l;const f=this._cost(o);if(f<n){s=1,n=f;continue}s++,o[r]=a}n<t&&(t=n),h++}}predict(){return this._categories}}
