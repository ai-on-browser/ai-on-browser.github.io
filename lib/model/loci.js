var q=Object.defineProperty;var m=(p,e)=>q(p,"name",{value:e,configurable:!0});export default class y{static{m(this,"LOCI")}constructor(e=.5){this._alpha=e,this._rmax=1/0,this._nmin=20,this._ks=3}_distance(e,o){return Math.sqrt(e.reduce((n,h,t)=>n+(h-o[t])**2,0))}predict(e){const o=e.length,n=[];for(let t=0;t<o;t++){n[t]=[],n[t][t]={d:0,i:t};for(let s=0;s<t;s++){const r=this._distance(e[t],e[s]);n[t][s]={d:r,i:s},n[s][t]={d:r,i:t}}}for(let t=0;t<o;t++)n[t].sort((s,r)=>s.d-r.d);const h=Array(o).fill(!1);for(let t=0;t<o;t++){const s=n[t].filter(r=>r.d<=this._rmax);for(let r=Math.min(this._nmin,Math.floor(s.length/2));r<s.length;r++){const M=s[r].d,u=r+1,c=[];for(let i=0;i<=r;i++){c[i]=0;const l=this._alpha*M;let d=o,a=0;for(;a<d;){const _=Math.floor((d+a)/2);n[s[i].i][_].d<=l?a=_+1:d=_}c[i]=a}const f=c.reduce((i,l)=>i+l,0)/u,g=Math.sqrt(c.reduce((i,l)=>i+(l-f)**2,0)/u),k=1-c[0]/f,x=g/f;if(k>this._ks*x){h[t]=!0;break}}}return h}}
