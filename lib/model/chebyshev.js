var I=Object.defineProperty;var l=(n,t)=>I(n,"name",{value:t,configurable:!0});const p=l((n,t,s,c,h,o)=>{const r=n/2,e=2*Math.PI/n;if(n>1){for(let f=0;f<r;f++){const y=Math.cos(f*e),b=-Math.sin(f*e),u=t[f+h],i=s[f+h],_=t[f+h+r],M=s[f+h+r];t[f+h]=u+_,s[f+h]=i+M,t[f+h+r]=(u-_)*y-(i-M)*b,s[f+h+r]=(i-M)*y+(u-_)*b}p(n/2,t,s,2*c,h,o),p(n/2,t,s,2*c,h+r,o+c)}else h>o&&([t[h],t[o]]=[t[o],t[h]],[s[h],s[o]]=[s[o],s[h]])},"f"),a=l((n,t=null)=>{const s=n.length;if(!Number.isInteger(Math.log2(s)))throw"Invalid value length.";return t||(t=Array(s).fill(0)),p(s,n,t,1,0,0),[n,t]},"fft"),g=l((n,t)=>(t=t.map(s=>-s),a(n,t),n=n.map(s=>s/n.length),t=t.map(s=>-s/n.length),[n,t]),"ifft"),v=l((n,t=null)=>{const s=n.length;t||(t=Array(s).fill(0));const c=Array(s).fill(0),h=Array(s).fill(0),o=-2*Math.PI/s;for(let r=0;r<s;r++)for(let e=0;e<s;e++)c[r]+=n[e]*Math.cos(e*r*o)-t[e]*Math.sin(e*r*o),h[r]+=n[e]*Math.sin(e*r*o)+t[e]*Math.cos(e*r*o);return[c,h]},"dft"),w=l((n,t)=>{t=t.map(h=>-h);let[s,c]=v(n,t);return s=s.map(h=>h/n.length),c=c.map(h=>-h/n.length),[s,c]},"idft"),A=l((n,t=null)=>{const s=n.length;return Number.isInteger(Math.log2(s))?a(n,t):v(n,t)},"ft"),N=l((n,t)=>{const s=n.length;return Number.isInteger(Math.log2(s))?g(n,t):w(n,t)},"ift");export default class P{static{l(this,"ChebyshevFilter")}constructor(t=1,s=1,c=2,h=.5){this._c=h,this._type=t,this._n=c,this._e=s}_chebyshev(t,s){switch(t){case 0:return 1;case 1:return s;case 2:return 2*s**2-1;case 3:return 4*s**3-3*s}return 2*s*this._chebyshev(t-1,s)-this._chebyshev(t-2,s)}_cutoff(t,s,c,h){const o=this._type===1?Math.sqrt(1+(this._e*this._chebyshev(this._n,t/s))**2):Math.sqrt(1+1/(this._e*this._chebyshev(this._n,s/t))**2);return[c/o,h/o]}predict(t){const[s,c]=A(t),h=t.length/2,o=Math.floor(h*(1-this._c));for(let e=1;e<=h;e++)[s[e],c[e]]=this._cutoff(e,o,s[e],c[e]),e!==h&&([s[t.length-e],c[t.length-e]]=this._cutoff(e,o,s[t.length-e],c[t.length-e]));const[r]=N(s,c);return r}}
