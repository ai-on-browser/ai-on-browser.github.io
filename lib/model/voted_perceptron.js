export default class VotedPerceptron{constructor(){}init(t,h){this._x=t,this._y=h,this._epoch=0,this._v=[],this._b=[],this._c=[]}fit(){for(let t=0;t<this._x.length;t++){if(0===this._v.length){this._v.push(this._x[t].map((h=>this._y[t]*h))),this._b.push(this._y[t]),this._c.push(1);continue}const h=this._v[this._v.length-1];(this._x[t].reduce(((t,s,i)=>t+s*h[i]),0)+this._b[this._b.length-1]<0?-1:1)===this._y[t]?this._c[this._c.length-1]++:(this._v.push(this._x[t].map(((s,i)=>h[i]+this._y[t]*s))),this._b.push(this._b[this._b.length-1]+this._y[t]),this._c.push(1))}}predict(t){const h=[];for(let s=0;s<t.length;s++){let i=0;for(let h=0;h<this._v.length;h++)i+=this._c[h]*(t[s].reduce(((t,s,i)=>t+s*this._v[h][i]),0)+this._b[h]<0?-1:1);h[s]=i<0?-1:1}return h}}