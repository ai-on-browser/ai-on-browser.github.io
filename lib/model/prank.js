var c=Object.defineProperty;var b=(f,h)=>c(f,"name",{value:h,configurable:!0});export default class a{static{b(this,"PRank")}constructor(h=.1){this._w=null,this._a=h,this._b=[0,1/0],this._min=1}fit(h,s){this._w||(this._w=Array(h[0].length).fill(0));for(let t=0;t<h.length;t++){s[t]<this._min?(this._b.splice(0,0,...Array(this._min-s[t]).fill(this._b[0])),this._min=s[t]):s[t]>=this._min+this._b.length&&this._b.splice(this._b.length-1,0,...Array(s[t]-(this._min+this._b.length)+1).fill(this._b[this._b.length-2]));const n=this._w.reduce((i,e,o)=>i+e*h[t][o],0);let _=0;for(;_<this._b.length&&!(n-this._b[_]<0);_++);const r=_+this._min;if(s[t]===r)continue;let l=0;for(let i=0;i<this._b.length-1;i++){const e=s[t]<=i+this._min?-1:1;(n-this._b[i])*e<=0&&(l+=e,this._b[i]-=this._a*e)}for(let i=0;i<this._w.length;i++)this._w[i]+=this._a*l*h[t][i]}}predict(h){const s=[];for(let t=0;t<h.length;t++){const n=this._w.reduce((r,l,i)=>r+l*h[t][i],0);let _=0;for(;_<this._b.length&&!(n-this._b[_]<0);_++);s[t]=_+this._min}return s}}
