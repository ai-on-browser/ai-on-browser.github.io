var g=Object.defineProperty;var u=(c,t)=>g(c,"name",{value:t,configurable:!0});export default class l{static{u(this,"RamerDouglasPeucker")}constructor(t=.1){this._e=t}_d(t,s,h){return Math.abs((s[1]-t[1])*h[0]-(s[0]-t[0])*h[1]+s[0]*t[1]-s[1]*t[0])/Math.sqrt((s[1]-t[1])**2+(s[0]-t[0])**2)}fit(t,s){const h=t.length,_=t.map((i,n)=>[i,s[n]]);_.sort((i,n)=>i[0]-n[0]),t=_.map(i=>i[0]),s=_.map(i=>i[1]);const e=[[0,h-1]];for(;;){let i=0,n=-1,a=-1;for(let r=0;r<e.length;r++){const m=[t[e[r][0]],s[e[r][0]]],d=[t[e[r][1]],s[e[r][1]]];for(let o=e[r][0]+1;o<e[r][1];o++){const f=this._d(m,d,[t[o],s[o]]);f>i&&(i=f,n=r,a=o)}}if(i===0||i<this._e)break;e.splice(n,1,[e[n][0],a],[a,e[n][1]])}this._x=t,this._y=s,this._seg=e}predict(t){const s=this._x.length;return t.map(h=>{if(h<=this._x[0])return this._y[0];if(h>=this._x[s-1])return this._y[s-1];for(const[_,e]of this._seg)if(h<this._x[e])return this._y[_]+(h-this._x[_])*(this._y[e]-this._y[_])/(this._x[e]-this._x[_]);return 0})}}
