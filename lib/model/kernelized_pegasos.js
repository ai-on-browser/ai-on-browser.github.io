var l=Object.defineProperty;var a=(n,h)=>l(n,"name",{value:h,configurable:!0});export default class o{static{a(this,"KernelizedPegasos")}constructor(h,i="gaussian"){if(this._r=h,this._itr=100,typeof i=="function")this._kernel=i;else switch(typeof i=="string"&&(i={name:i}),i.name){case"gaussian":this._s=i.s??1,this._kernel=(_,t)=>Math.exp(-(_.reduce((s,e,r)=>s+(e-t[r])**2,0)**2)/this._s**2);break;case"polynomial":this._d=i.d??2,this._kernel=(_,t)=>(1+_.reduce((s,e,r)=>s+e*t[r]))**this._d;break}}init(h,i){this._x=h,this._y=i,this._t=0,this._a=Array(this._x.length).fill(0);const _=this._x.length;this._k=[];for(let t=0;t<_;t++){this._k[t]=[],this._k[t][t]=this._kernel(this._x[t],this._x[t]);for(let s=0;s<t;s++)this._k[t][s]=this._k[s][t]=this._kernel(this._x[t],this._x[s])}}fit(){for(let h=0;h<this._itr;h++){const i=Math.floor(Math.random()*this._x.length);this._t++;const _=1/(this._r*this._t);let t=0;for(let s=0;s<this._x.length;s++)t+=this._a[s]*this._y[s]*this._k[i][s];this._y[i]*_*t<1&&this._a[i]++}}predict(h){const i=[];for(let _=0;_<h.length;_++){let t=0;for(let s=0;s<this._x.length;s++)t+=this._a[s]*this._y[s]*this._kernel(h[_],this._x[s]);i.push(t<=0?-1:1)}return i}}
