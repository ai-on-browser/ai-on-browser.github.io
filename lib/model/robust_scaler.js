var e=Object.defineProperty;var q=(r,t)=>e(r,"name",{value:t,configurable:!0});export default class l{static{q(this,"RobustScaler")}constructor(){this._q_low=.25,this._q_high=.75}_q(t,i){const s=(t.length-1)*i,h=Math.floor(s),_=Math.ceil(s);return t[h]+(s-h)*(t[_]-t[h])}fit(t){if(Array.isArray(t[0])){this._mid=[],this._ql=[],this._qh=[];for(let i=0;i<t[0].length;i++){const s=t.map(h=>h[i]);s.sort((h,_)=>h-_),this._mid[i]=this._q(s,.5),this._ql[i]=this._q(s,this._q_low),this._qh[i]=this._q(s,this._q_high)}}else t=t.concat(),t.sort((i,s)=>i-s),this._mid=this._q(t,.5),this._ql=this._q(t,this._q_low),this._qh=this._q(t,this._q_high)}predict(t){return t.map(i=>Array.isArray(i)?Array.isArray(this._mid)?i.map((s,h)=>(s-this._mid[h])/(this._qh[h]-this._ql[h])):i.map(s=>(s-this._mid)/(this._qh-this._ql)):Array.isArray(this._mid)?(i-this._mid[0])/(this._qh[0]-this._ql[0]):(i-this._mid)/(this._qh-this._ql))}inverse(t){return t.map(i=>Array.isArray(i)?Array.isArray(this._mid)?i.map((s,h)=>s*(this._qh[h]-this._ql[h])+this._mid[h]):i.map(s=>s*(this._qh-this._ql)+this._mid):Array.isArray(this._mid)?i*(this._qh[0]-this._ql[0])+this._mid[0]:i*(this._qh-this._ql)+this._mid)}}
