var e=Object.defineProperty;var p=(n,t)=>e(n,"name",{value:t,configurable:!0});export class AdaGradOptimizer{static{p(this,"AdaGradOptimizer")}constructor(t){this._learningrate=t}set learningRate(t){this._learningrate=t}manager(){const t=this;return{get lr(){return t._learningrate},params:{},delta(r,a){if(typeof a=="number")return this.params[r]=(this.params[r]??0)+a**2,this.lr*a/Math.sqrt(this.params[r]+1e-12);this.params[r]||(this.params[r]=a.copy(),this.params[r].fill(0)),this.params[r].broadcastOperate(a,(i,s)=>i+s*s);const h=a.copy();return h.broadcastOperate(this.params[r],(i,s)=>i*(this.lr/Math.sqrt(s+1e-12))),h}}}}
