var p=Object.defineProperty;var n=(e,t)=>p(e,"name",{value:t,configurable:!0});export class RMSPropOptimizer{static{n(this,"RMSPropOptimizer")}constructor(t,r=.999){this._learningrate=t,this._beta=r}set learningRate(t){this._learningrate=t}manager(){const t=this;return{get lr(){return t._learningrate},params:{},delta(r,a){if(typeof a=="number")return this.params[r]=(this.params[r]??0)*t._beta+(1-t._beta)*a**2,this.lr*a/Math.sqrt(this.params[r]+1e-12);this.params[r]||(this.params[r]=a.copy(),this.params[r].fill(0)),this.params[r].broadcastOperate(a,(i,s)=>i*t._beta+(1-t._beta)*s*s);const h=a.copy();return h.broadcastOperate(this.params[r],(i,s)=>i*(this.lr/Math.sqrt(s+1e-12))),h}}}}
