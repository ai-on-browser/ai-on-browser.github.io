import{onnx as r}from"../onnx_exporter.js";export default{export(l,t,d){if(!Array.isArray(t.input))throw new Error(`Invalid attribute 'input' value ${t.input}.`);const i=l.getGraph(),e=new r.NodeProto;if(t.input.length===1)e.setOpType("Identity"),e.addInput(t.input[0]);else{let a=t.input[0];for(let p=1;p<t.input.length-1;p++){const n=new r.NodeProto;n.setOpType("MatMul"),n.addInput(a),n.addInput(t.input[p]),n.addOutput(a=t.name+`_matmul_${p-1}`),i.addNode(n)}e.setOpType("MatMul"),e.addInput(a),e.addInput(t.input.at(-1))}e.addOutput(t.name),i.addNode(e);const u=d[t.input[0]].size.concat();return u[u.length-1]=d[t.input.at(-1)].size.at(-1),{size:u}}};
