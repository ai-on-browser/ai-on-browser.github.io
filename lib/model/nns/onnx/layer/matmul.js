import{onnx as r}from"../onnx_exporter.js";export default{export(l,t,d){if(!Array.isArray(t.input))throw new Error(`Invalid attribute 'input' value ${t.input}.`);const i=l.getGraph(),e=new r.NodeProto;if(t.input.length===1)e.setOpType("Identity"),e.addInput(t.input[0]);else{let p=t.input[0];for(let u=1;u<t.input.length-1;u++){const n=new r.NodeProto;n.setOpType("MatMul"),n.addInput(p),n.addInput(t.input[u]),p=`${t.name}_matmul_${u-1}`,n.addOutput(p),i.addNode(n)}e.setOpType("MatMul"),e.addInput(p),e.addInput(t.input.at(-1))}e.addOutput(t.name),i.addNode(e);const a=d[t.input[0]].size.concat();return a[a.length-1]=d[t.input.at(-1)].size.at(-1),{size:a}}};
