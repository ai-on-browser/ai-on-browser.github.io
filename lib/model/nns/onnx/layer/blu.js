import{onnx as d}from"../onnx_exporter.js";import{getConstNodeName as i}from"../utils.js";export default{export(m,t){const _=i(m,1),O=i(m,2),n=new d.TensorProto;n.setName(t.name+"_beta"),n.setDataType(d.TensorProto.DataType.FLOAT),n.setDimsList([1]),n.setFloatDataList([t.beta??.1]);const N=Array.isArray(t.input)?t.input[0]:t.input,a=new d.NodeProto;a.setOpType("Pow"),a.addInput(N),a.addInput(O),a.addOutput(t.name+"_pow");const o=new d.NodeProto;o.setOpType("Add"),o.addInput(t.name+"_pow"),o.addInput(_),o.addOutput(t.name+"_add1");const r=new d.NodeProto;r.setOpType("Sqrt"),r.addInput(t.name+"_add1"),r.addOutput(t.name+"_sqrt");const p=new d.NodeProto;p.setOpType("Sub"),p.addInput(t.name+"_sqrt"),p.addInput(_),p.addOutput(t.name+"_sub1");const s=new d.NodeProto;s.setOpType("Mul"),s.addInput(t.name+"_beta"),s.addInput(t.name+"_sub1"),s.addOutput(t.name+"_mul");const u=new d.NodeProto;u.setOpType("Add"),u.addInput(N),u.addInput(t.name+"_mul"),u.addOutput(t.name);const e=m.getGraph();e.addInitializer(n),e.addNode(a),e.addNode(o),e.addNode(r),e.addNode(p),e.addNode(s),e.addNode(u)}};
