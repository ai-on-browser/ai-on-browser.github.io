import{onnx as e}from"../onnx_exporter.js";import{getConstNodeName as i}from"../utils.js";export default{export(r,t){const s=i(r,1),d=new e.TensorProto;d.setName(t.name+"_beta"),d.setDataType(e.TensorProto.DataType.FLOAT),d.setDimsList([1]),d.setFloatDataList([t.beta??1]);const m=Array.isArray(t.input)?t.input[0]:t.input,p=new e.NodeProto;p.setOpType("Relu"),p.addInput(m),p.addOutput(t.name+"_relu");const a=new e.NodeProto;a.setOpType("Mul"),a.addInput(t.name+"_relu"),a.addInput(t.name+"_beta"),a.addOutput(t.name+"_mul");const n=new e.NodeProto;n.setOpType("Add"),n.addInput(t.name+"_mul"),n.addInput(s),n.addOutput(t.name+"_add");const u=new e.NodeProto;u.setOpType("Log"),u.addInput(t.name+"_add"),u.addOutput(t.name);const o=r.getGraph();o.addInitializer(d),o.addNode(p),o.addNode(a),o.addNode(n),o.addNode(u)}};
