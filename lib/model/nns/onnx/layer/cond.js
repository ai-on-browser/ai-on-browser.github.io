import{onnx as n}from"../onnx_exporter.js";export default{export(u,t,r){if(!Array.isArray(t.input)||t.input.length!==3)throw new Error(`Invalid attribute 'input' value ${t.input}.`);const d=u.getGraph(),e=new n.NodeProto;if(e.setOpType("Where"),r[t.input[0]].type===n.TensorProto.DataType.BOOL)e.addInput(t.input[0]);else{const p=new n.NodeProto;p.setOpType("Cast"),p.addInput(t.input[0]),p.addOutput(`${t.name}_cast`);const a=new n.AttributeProto;a.setName("to"),a.setType(n.AttributeProto.AttributeType.INT),a.setI(n.TensorProto.DataType.BOOL),p.addAttribute(a),d.addNode(p),e.addInput(`${t.name}_cast`)}return e.addInput(t.input[1]),e.addInput(t.input[2]),e.addOutput(t.name),d.addNode(e),{type:r[t.input[1]].type}}};
