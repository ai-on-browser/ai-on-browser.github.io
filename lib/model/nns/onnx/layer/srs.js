import{onnx as t}from"../onnx_exporter.js";export default{export(m,e){const d=new t.TensorProto;d.setName(`${e.name}_alpha`),d.setDataType(t.TensorProto.DataType.FLOAT),d.setDimsList([1]),d.setFloatDataList([e.alpha??3]);const n=new t.TensorProto;n.setName(`${e.name}_beta`),n.setDataType(t.TensorProto.DataType.FLOAT),n.setDimsList([1]),n.setFloatDataList([e.beta??2]);const u=Array.isArray(e.input)?e.input[0]:e.input,r=new t.NodeProto;r.setOpType("Neg"),r.addInput(u),r.addOutput(`${e.name}_neg`);const p=new t.NodeProto;p.setOpType("Div"),p.addInput(`${e.name}_neg`),p.addInput(`${e.name}_beta`),p.addOutput(`${e.name}_div_beta`);const _=new t.NodeProto;_.setOpType("Exp"),_.addInput(`${e.name}_div_beta`),_.addOutput(`${e.name}_exp`);const o=new t.NodeProto;o.setOpType("Div"),o.addInput(u),o.addInput(`${e.name}_alpha`),o.addOutput(`${e.name}_div_alpha`);const s=new t.NodeProto;s.setOpType("Add"),s.addInput(`${e.name}_div_alpha`),s.addInput(`${e.name}_exp`),s.addOutput(`${e.name}_add`);const i=new t.NodeProto;i.setOpType("Div"),i.addInput(u),i.addInput(`${e.name}_add`),i.addOutput(e.name);const a=m.getGraph();a.addInitializer(d),a.addInitializer(n),a.addNode(r),a.addNode(p),a.addNode(_),a.addNode(o),a.addNode(s),a.addNode(i)}};
