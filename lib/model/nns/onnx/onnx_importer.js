import onnx from"./onnx_pb.js";export{default as onnx}from"./onnx_pb.js";import input from"./operators/input.js";import output from"./operators/output.js";const operators={};export default class ONNXImporter{static async load(o){o.arrayBuffer&&"function"==typeof o.arrayBuffer&&(o=new Uint8Array(await o.arrayBuffer())),o instanceof ArrayBuffer&&(o=new Uint8Array(o));const r=onnx.ModelProto.deserializeBinary(o).toObject(),t=[];for(const o of r.graph.inputList)t.push(...input.import(r,o));for(const o of r.graph.nodeList){const a=o.opType;if(!operators[a])try{const o=await import(`./operators/${a.toLowerCase()}.js`);operators[a]=o.default}catch(o){console.error(a,o.name,o.message);continue}const n=operators[a];t.push(...n.import(r,o))}for(const o of r.graph.outputList)t.push(...output.import(r,o));return t}}