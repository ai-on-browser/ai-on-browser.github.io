var d=Object.defineProperty;var c=(i,o)=>d(i,"name",{value:o,configurable:!0});import f from"./onnx_pb.js";export{default as onnx}from"./onnx_pb.js";import u from"./operators/input.js";import y from"./operators/output.js";const p={};export default class l{static{c(this,"ONNXImporter")}static async load(o){o.arrayBuffer&&typeof o.arrayBuffer=="function"&&(o=new Uint8Array(await o.arrayBuffer())),o instanceof ArrayBuffer&&(o=new Uint8Array(o));const e=f.ModelProto.deserializeBinary(o),s=e.getGraph(),n=[];for(const t of s.getInputList())n.push(...u.import(e,t));for(const t of s.getNodeList()){const r=t.getOpType();if(!p[r])try{const a=await import(`./operators/${r.toLowerCase()}.js`);p[r]=a.default}catch(a){console.error(r,a.name,a.message);continue}const m=p[r];n.push(...m.import(e,t))}for(const t of s.getOutputList())n.push(...y.import(e,t));return n}}
