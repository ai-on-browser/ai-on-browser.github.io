import{onnx}from"../onnx_importer.js";import{loadTensor,loadAttribute}from"../utils.js";export default{import(t,i){const n={epsilon:1e-5,momentum:.9,training_mode:0};for(const t of i.attributeList)n[t.name]=loadAttribute(t);const o={};for(const n of t.graph.initializerList)n.name===i.inputList[1]?o.scale=loadTensor(n):n.name===i.inputList[2]?o.b=loadTensor(n):n.name===i.inputList[3]?o.inputMean=loadTensor(n):n.name===i.inputList[4]&&(o.inputVar=loadTensor(n));if(n.training_mode)throw new Error(`Invalid attribute 'training_mode' value ${n.training_mode}.`);return[{type:"batch_normalization",input:[i.inputList[0]],name:i.outputList[0],scale:o.scale??i.inputList[1],offset:o.b??i.inputList[2],epsilon:n.epsilon??1e-5,input_mean:o.b??i.inputList[3],input_var:o.b??i.inputList[4],channel_dim:1}]}};