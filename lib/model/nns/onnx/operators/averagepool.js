import{onnx}from"../onnx_importer.js";import{loadAttribute}from"../utils.js";export default{import(t,e){const a={};for(const t of e.attributeList)a[t.name]=loadAttribute(t);if(a.strides&&a.strides.some((t=>t!==a.strides[0])))throw new Error(`Invalid attribute 'strides' value ${a.strides}.`);if("SAME_UPPER"===a.auto_pad)a.pads=a.kernel_shape.map((t=>Math.ceil((t-1)/2)));else{if(a.auto_pad&&"NOTSET"!==a.auto_pad)throw new Error(`Invalid attribute 'auto_pad' value ${a.auto_pad}.`);if(a.pads&&a.pads.some((t=>t!==a.pads[0])))throw new Error(`Invalid attribute 'pads' value ${a.pads}.`)}return[{type:"average_pool",input:[e.inputList[0]],name:e.outputList[0],kernel:a.kernel_shape,padding:a.pads?a.pads[0]:0,stride:a.strides?a.strides[0]:1,channel_dim:1}]}};