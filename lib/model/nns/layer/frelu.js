var c=Object.defineProperty;var o=(i,t)=>c(i,"name",{value:t,configurable:!0});import b from"./base.js";export default class a extends b{static{o(this,"FlexibleReLULayer")}constructor({b:t=0,...e}){super(e),this._b=t}calc(t){this._i=t;const e=t.copy();return e.map(r=>(r>0?r:0)+this._b),e}grad(t){this._bo=t;const e=t.copy();return e.broadcastOperate(this._i,(r,s)=>s>0?r:0),e}update(t){const e=this._bo.reduce((r,s)=>r+s,0)/this._bo.length;this._b-=t.delta("bias",e)}toObject(){return{type:"frelu",b:this._b}}}a.registLayer("frelu");
