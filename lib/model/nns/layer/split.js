var o=Object.defineProperty;var _=(h,i)=>o(h,"name",{value:i,configurable:!0});import a from"./base.js";export default class l extends a{static{_(this,"SplitLayer")}constructor({axis:i=1,size:t,...s}){super(s),this._axis=i,this._size=t}calc(i){let t=0;if(this._o=[],typeof this._size=="number"){const s=i.sizes[this._axis]/this._size;for(let e=0;e<this._size;e++){const r=Math.round((e+1)*s);this._o.push(i.slice(t,r,this._axis)),t=r}}else for(let s=0;s<this._size.length;s++)this._o.push(i.slice(t,t+this._size[s],this._axis)),t+=this._size[s];return this._o}grad(...i){for(let s=0;s<this._o.length;s++)i[s]||(i[s]=this._o[s].copy(),i[s].fill(0));let t=i[0];for(let s=1;s<i.length;s++)t.concat(i[s],this._axis);return t}toObject(){return{type:"split",axis:this._axis,size:this._size}}}l.registLayer();
