import Layer from"./base.js";import Matrix from"../../../util/matrix.js";export default class SplitLayer extends Layer{constructor({axis:t=1,size:s,...i}){super(i),this._axis=t,this._size=s}calc(t){let s=0;this._o=[];for(let i=0;i<this._size.length;i++)this._o.push(t.slice(s,s+this._size[i],this._axis)),s+=this._size[i];return this._o}grad(...t){for(let s=0;s<this._o.length;s++)t[s]||(t[s]=Matrix.zeros(this._o[s].rows,this._o[s].cols));let s=t[0];for(let i=1;i<t.length;i++)s=s.concat(t[i],this._axis);return s}toObject(){return{type:"split",axis:this._axis,size:this._size}}}SplitLayer.registLayer();