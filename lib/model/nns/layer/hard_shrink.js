import Layer from"./base.js";export default class HardShrinkLayer extends Layer{constructor({l:r=.5,...t}){super(t),this._l=r}calc(r){this._i=r;const t=r.copy();return t.map((r=>r<-this._l||this._l<r?r:0)),t}grad(r){this._bo=r;const t=r.copy();return t.broadcastOperate(this._i,((r,t)=>t<-this._l||this._l<t?r:0)),t}toObject(){return{type:"hard_shrink",l:this._l}}}HardShrinkLayer.registLayer();