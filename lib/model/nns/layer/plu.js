var r=Object.defineProperty;var c=(s,t)=>r(s,"name",{value:t,configurable:!0});import _ from"./base.js";export default class e extends _{static{c(this,"PiecewiseLinearUnitLayer")}constructor({alpha:t=.1,c:a=1,...h}){super(h),this._alpha=t,this._c=a}calc(t){this._i=t;const a=t.copy();return a.map(h=>Math.max(this._alpha*(h+this._c)-this._c,Math.min(this._alpha*(h-this._c)+this._c,h))),a}grad(t){const a=t.copy();return a.broadcastOperate(this._i,(h,i)=>h*(i<this._alpha*(i+this._c)-this._c||this._alpha*(i-this._c)+this._c<i?this._alpha:1)),a}toObject(){return{type:"plu",alpha:this._alpha,c:this._c}}}e.registLayer("plu");
