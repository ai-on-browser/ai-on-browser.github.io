import Layer from"./base.js";export default class SoftShrinkLayer extends Layer{constructor({l:t=.5,...r}){super(r),this._l=t}calc(t){this._i=t;const r=t.copy();return r.map((t=>t<-this._l?t+this._l:this._l<t?t-this._l:0)),r}grad(t){this._bo=t;const r=t.copy();return r.broadcastOperate(this._i,((t,r)=>r<-this._l||this._l<r?t:0)),r}toObject(){return{type:"soft_shrink",l:this._l}}}SoftShrinkLayer.registLayer();