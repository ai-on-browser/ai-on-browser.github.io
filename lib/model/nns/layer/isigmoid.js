var r=Object.defineProperty;var o=(e,a)=>r(e,"name",{value:a,configurable:!0});import c from"./base.js";export default class p extends c{static{o(this,"ImprovedSigmoidLayer")}constructor({a=1,alpha:s=1,...i}){super(i),this._a=a,this._alpha=s}calc(a){const s=1/(1+Math.exp(-this._a)),i=1/(1+Math.exp(this._a));return this._i=a,this._o=a.copy(),this._o.map(t=>-this._a<t&&t<this._a?1/(1+Math.exp(-t)):t>=this._a?s+this._alpha*(t-this._a):i+this._alpha*(t+this._a)),this._o}grad(a){const s=1/(1+Math.exp(-this._a)),i=1/(1+Math.exp(this._a)),t=a.copy();return t.broadcastOperate(this._o,(_,h)=>_*(i<h&&h<s?h*(1-h):this._alpha)),t}toObject(){return{type:"isigmoid",a:this._a,alpha:this._alpha}}}p.registLayer("isigmoid");
