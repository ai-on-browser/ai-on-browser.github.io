var p=Object.defineProperty;var e=(i,t)=>p(i,"name",{value:t,configurable:!0});import _ from"./base.js";export default class r extends _{static{e(this,"HardSigmoidLayer")}constructor({alpha:t=.2,beta:a=.5,...h}){super(h),this._alpha=t,this._beta=a}calc(t){this._i=t;const a=t.copy();return a.map(h=>Math.max(0,Math.min(1,this._alpha*h+this._beta))),a}grad(t){this._bo=t;const a=t.copy();return a.broadcastOperate(this._i,(h,s)=>h*(s<-this._beta/this._alpha||this._beta/this._alpha<s?0:this._alpha)),a}toObject(){return{type:"hard_sigmoid",alpha:this._alpha,beta:this._beta}}}r.registLayer();
