import Layer from"./base.js";export default class HardSigmoidLayer extends Layer{constructor({alpha:a=.2,beta:t=.5,...e}){super(e),this._alpha=a,this._beta=t}calc(a){this._i=a;const t=a.copy();return t.map((a=>Math.max(0,Math.min(1,this._alpha*a+this._beta)))),t}grad(a){this._bo=a;const t=a.copy();return t.broadcastOperate(this._i,((a,t)=>a*(t<-this._beta/this._alpha||this._beta/this._alpha<t?0:this._alpha))),t}toObject(){return{type:"hard_sigmoid",alpha:this._alpha,beta:this._beta}}}HardSigmoidLayer.registLayer();