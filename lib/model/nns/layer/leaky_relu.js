import Layer from"./base.js";import Matrix from"../../../util/matrix.js";export default class LeakyReluLayer extends Layer{constructor({a:t=.1,...r}){super(r),this._a=t}calc(t){return this._i=t,this._o=Matrix.map(this._i,(t=>t>0?t:t*this._a)),this._o}grad(t){const r=Matrix.map(this._i,(t=>t>0?1:this._a));return r.mult(t),r}toObject(){return{type:"leaky_relu",a:this._a}}}LeakyReluLayer.registLayer("leaky_relu");