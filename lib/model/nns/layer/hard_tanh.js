import Layer from"./base.js";export default class HardTanhLayer extends Layer{constructor({v:t=1,...r}){super(r),this._v=t}calc(t){this._i=t;const r=t.copy();return r.map((t=>t<-this._v?-this._v:this._v<t?this._v:t)),r}grad(t){this._bo=t;const r=t.copy();return r.broadcastOperate(this._i,((t,r)=>t*(r<-this._v||this._v<r?0:1))),r}toObject(){return{type:"hard_tanh",v:this._v}}}HardTanhLayer.registLayer();