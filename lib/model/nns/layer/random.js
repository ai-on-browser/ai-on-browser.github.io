import Layer from"./base.js";import Matrix from"../../../util/matrix.js";export default class RandomLayer extends Layer{constructor({size:t,mean:i=0,variance:r=1,...s}){super(s),this._size=t,this._mean=i,this._variance=r,this._rows=1}bind({n:t}){this._rows=t}calc(){if("string"==typeof this._size){const t=this.graph.getNode(this._size).lastOutputSize;return Matrix.randn(t[0],t[1],this._mean,this._variance)}return Matrix.randn(this._rows,this._size,this._mean,this._variance)}grad(){}toObject(){return{type:"random",size:this._size}}}RandomLayer.registLayer();