var o=Object.defineProperty;var i=(t,s)=>o(t,"name",{value:s,configurable:!0});import c from"./base.js";import r from"../../../util/matrix.js";import e from"../../../util/tensor.js";export default class n extends c{static{i(this,"RandomLayer")}constructor({size:s,mean:a=0,variance:h=1,..._}){super(_),this._size=s,this._mean=a,this._variance=h,this._rows=1}get dependentLayers(){const s=[];return typeof this._size=="string"&&s.push(this._size),s}bind({n:s}){this._rows=s}calc(){if(typeof this._size=="string"){const s=this.graph.getNode(this._size).lastOutputSize;return s.length===2?r.randn(s[0],s[1],this._mean,this._variance):e.randn(s,this._mean,this._variance)}return Array.isArray(this._size)?e.randn([this._rows,...this._size],this._mean,this._variance):r.randn(this._rows,this._size,this._mean,this._variance)}grad(){}toObject(){return{type:"random",size:this._size}}}n.registLayer();
