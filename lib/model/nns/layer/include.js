var u=Object.defineProperty;var o=(r,t)=>u(r,"name",{value:t,configurable:!0});import _ from"../../neuralnetwork.js";import a from"./base.js";import l from"../../../util/matrix.js";export default class e extends a{static{o(this,"IncludeLayer")}constructor({net:t,input_to:i=null,train:s=!0,...n}){super(n),this._model=t instanceof _?t:_.fromObject(t),this._input_to=i,this._train=s,this._org_i=null,this._org_t=null}bind({input:t,supervisor:i}){this._org_i=t,this._org_t=i}calc(t){if(!(this._org_i instanceof l)&&this._input_to){const i=t;t=this._org_i,t[this._input_to]=i}return this._model.calc(t)}grad(t){return this._model.grad(t)}update(t){this._train&&this._model.update(t.lr)}toObject(){return{type:"include",net:this._model.toObject(),input_to:this._input_to,train:this._train}}}e.registLayer();
