import Layer from"./base.js";export default class RectifiedPowerUnitLayer extends Layer{constructor({s:t=2,...e}){super(e),this._s=t}calc(t){this._i=t;const e=t.copy();return e.map((t=>t>=0?t**this._s:0)),e}grad(t){this._bo=t;const e=t.copy();return e.broadcastOperate(this._i,((t,e)=>t*(e>=0?this._s*e**(this._s-1):0))),e}toObject(){return{type:"repu",s:this._s}}}RectifiedPowerUnitLayer.registLayer("repu");