var n=Object.defineProperty;var i=(t,r)=>n(t,"name",{value:r,configurable:!0});import a from"./base.js";import o from"../../../util/tensor.js";import c from"../../../util/matrix.js";export default class s extends a{static{i(this,"FlattenLayer")}calc(r){if(this._in_size=r.sizes.concat(),r instanceof c)return r;const e=r.copy();return e.reshape(e.sizes[0],e.length/e.sizes[0]),e.toMatrix()}grad(r){if(this._in_size.length===2)return r;const e=o.fromArray(r.copy());return e.reshape(...this._in_size),e}}s.registLayer();
