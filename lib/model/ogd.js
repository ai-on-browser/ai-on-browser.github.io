var c=Object.defineProperty;var o=(_,t)=>c(_,"name",{value:t,configurable:!0});export default class w{static{o(this,"OnlineGradientDescent")}constructor(t=1,i="zero_one"){this._c=t,this._w=null,this._w0=0,this._t=1,i==="zero_one"&&(this._loss=(s,h)=>s===h?0:1)}update(t,i){const s=Math.sign(this._w.reduce((e,n,l)=>e+n*t[l],this._w0));if(this._loss(i,s)===0)return;const r=this._c/Math.sqrt(this._t);for(let e=0;e<this._w.length;e++)this._w[e]+=r*i*t[e];this._w0+=r*i,this._t++}fit(t,i){this._w||(this._w=Array(t[0].length).fill(0),this._w0=0);for(let s=0;s<t.length;s++)this.update(t[s],i[s])}predict(t){const i=[];for(let s=0;s<t.length;s++){const h=t[s].reduce((r,e,n)=>r+e*this._w[n],this._w0);i[s]=h<=0?-1:1}return i}}
