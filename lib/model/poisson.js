var c=Object.defineProperty;var e=(i,r)=>c(i,"name",{value:r,configurable:!0});import s from"../util/matrix.js";export default class h{static{e(this,"PoissonRegression")}constructor(r){this._w=null,this._r=r}fit(r,t){r=s.fromArray(r),r.resize(r.rows,r.cols+1,1),t=s.fromArray(t),this._w||(this._w=s.randn(r.cols,t.cols));const o=r.tDot(t),a=r.dot(this._w);a.map(w=>Math.exp(w)),o.sub(r.tDot(a)),o.mult(this._r/r.rows),this._w.add(o)}predict(r){return r=s.fromArray(r),r.resize(r.rows,r.cols+1,1),s.map(r.dot(this._w),t=>Math.exp(t)).toArray()}}
