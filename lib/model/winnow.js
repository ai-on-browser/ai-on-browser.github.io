export default class Winnow{constructor(t=2,h=null,s=1){this._alpha=t,this._th=this._th_org=h,this._v=s,this._w=null}fit(t,h){this._w||(this._w=Array(t[0].length).fill(1),this._th=t[0].length/2);for(let s=0;s<t.length;s++){const i=t[s].reduce(((t,h,s)=>t+h*this._w[s]),0)<=this._th?-1:1;if(1===i&&-1===h[s])for(let h=0;h<t[s].length;h++)1===t[s][h]&&(1===this._v?this._w[h]=0:this._w[h]/=this._alpha);else if(-1===i&&1===h[s])for(let h=0;h<t[s].length;h++)1===t[s][h]&&(this._w[h]*=this._alpha)}}predict(t){const h=[];for(let s=0;s<t.length;s++){const i=t[s].reduce(((t,h,s)=>t+h*this._w[s]),0);h[s]=i<=this._th?-1:1}return h}}