var f=Object.defineProperty;var a=(i,t)=>f(i,"name",{value:t,configurable:!0});import r from"../util/matrix.js";export default class d{static{a(this,"LeastMedianSquaresRegression")}constructor(t=5){this._w=null,this._k=t}fit(t,o){t=r.fromArray(t),o=r.fromArray(o);const n=r.resize(t,t.rows,t.cols+1,1),[c,u]=n.sample(this._k),m=o.row(u),h=c.tDot(c).solve(c.tDot(m)),e=n.dot(h);e.sub(o),e.mult(e);const s=e.sum(1).value;s.sort((w,_)=>w-_);const l=s.length%2===1?s[(s.length-1)/2]:(s[s.length/2-1]+s[s.length/2])/2;(!this._w||l<this._score)&&(this._w=h,this._score=l)}predict(t){return t=r.fromArray(t),r.resize(t,t.rows,t.cols+1,1).dot(this._w).toArray()}}
