var m=Object.defineProperty;var _=(d,e)=>m(d,"name",{value:e,configurable:!0});export default class p{static{_(this,"NLMeans")}constructor(e,o){this._h=o,this._neighbor=e}_d(e,o){return e.reduce((l,g,t)=>l+(g-o[t])**2,0)}predict(e){const o=[];for(let t=0;t<e.length;t++)for(let h=0;h<e[t].length;h++){const n=[];for(let s=t-this._neighbor;s<=t+this._neighbor;s++)for(let i=h-this._neighbor;i<=h+this._neighbor;i++){const r=Math.max(0,Math.min(e.length-1,s)),c=Math.max(0,Math.min(e[t].length-1,i));n.push(...e[r][c])}o.push(n)}const l=[];for(let t=0;t<o.length;t++){l[t]=[];for(let h=0;h<=t;h++){const n=Math.exp(-this._d(o[t],o[h])/this._h**2);l[t][h]=l[h][t]=n}}const g=[];for(let t=0,h=0;t<e.length;t++){g[t]=[];for(let n=0;n<e[t].length;n++,h++){const s=Array(e[t][n].length).fill(0);let i=0;for(let r=0,c=0;r<e.length;r++)for(let f=0;f<e[r].length;f++,c++){const u=l[h][c];i+=u;for(let a=0;a<s.length;a++)s[a]+=u*e[r][f][a]}g[t][n]=s.map(r=>r/i)}}return g}}
