var f=Object.defineProperty;var o=(n,s)=>f(n,"name",{value:s,configurable:!0});export class SelectiveSamplingPerceptron{static{o(this,"SelectiveSamplingPerceptron")}constructor(s,h){this._b=s,this._r=h,this._w=null,this._c=0}fit(s,h){this._w||(this._w=Array(s[0].length).fill(0));for(let t=0;t<s.length;t++){const r=s[t].reduce((i,a,e)=>i+a*this._w[e],this._c),c=r<=0?-1:1;if(Math.random()<this._b/(this._b+Math.abs(r))&&h[t]!==c){for(let i=0;i<s[t].length;i++)this._w[i]+=this._r*h[t]*s[t][i];this._c+=this._r*h[t]}}}predict(s){const h=[];for(let t=0;t<s.length;t++){const r=s[t].reduce((c,_,i)=>c+_*this._w[i],this._c);h.push(r<=0?-1:1)}return h}}export class SelectiveSamplingAdaptivePerceptron{static{o(this,"SelectiveSamplingAdaptivePerceptron")}constructor(s,h){this._beta=s,this._r=h,this._w=null,this._c=0,this._k=0,this._X=0}fit(s,h){this._w||(this._w=Array(s[0].length).fill(0));for(let t=0;t<s.length;t++){const r=s[t].reduce((e,l,p)=>e+l*this._w[p],this._c),c=r<=0?-1:1,_=Math.max(this._X,Math.sqrt(s[t].reduce((e,l)=>e+l**2,0))),i=this._beta*_**2*Math.sqrt(1+this._k);if(Math.random()<i/(i+Math.abs(r))&&h[t]!==c){for(let e=0;e<s[t].length;e++)this._w[e]+=this._r*h[t]*s[t][e];this._c+=this._r*h[t],this._k+=1,this._X=_}}}predict(s){const h=[];for(let t=0;t<s.length;t++){const r=s[t].reduce((c,_,i)=>c+_*this._w[i],this._c);h.push(r<=0?-1:1)}return h}}
