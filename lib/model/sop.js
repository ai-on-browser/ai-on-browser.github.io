var e=Object.defineProperty;var _=(h,t)=>e(h,"name",{value:t,configurable:!0});import i from"../util/matrix.js";export default class d{static{_(this,"SecondOrderPerceptron")}constructor(t=1){this._v=null,this._s=null,this._a=t}_w(){const t=i.eye(this._d,this._d,this._a);return t.add(this._s.dot(this._s.t)),t.solve(this._v)}init(t,s){this._x=i.fromArray(t),this._shift=this._x.mean(0),this._x.sub(this._shift),this._y=s,this._d=this._x.cols,this._v=i.zeros(this._d,1),this._s=i.zeros(this._d,0)}update(t,s){this._s.concat(t,1),!(this._w().tDot(t).toScaler()*s>0)&&this._v.add(i.mult(t,s))}fit(){for(let t=0;t<this._x.rows;t++)this.update(this._x.row(t).t,this._y[t])}predict(t){const s=i.fromArray(t);return s.sub(this._shift),s.dot(this._w()).value.map(r=>r<=0?-1:1)}}
