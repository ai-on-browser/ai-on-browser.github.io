var u=Object.defineProperty;var o=(r,s)=>u(r,"name",{value:s,configurable:!0});const p=o((r,s)=>{let h=[],i=[];for(let t=0;t<s+1;t++)h.push(0),i.push(0);h[0]=1,h[1]=-r[1]/r[0],i[1]=r[0]+r[1]*h[1];let n=-r[1]/r[0];for(let t=1;t<s;t++){n=0;for(let e=0;e<t+1;e++)n-=h[e]*r[t+1-e];n/=i[t];const _=[1];for(let e=1;e<t+1;e++)_.push(h[e]);_.push(0);const l=[0];for(let e=t;e>0;e--)l.push(h[e]);l.push(1),h=[];for(let e=0;e<_.length;e++)h.push(_[e]+n*l[e]);i[t+1]=i[t]*(1-n**2)}return[h,i[i.length-1]]},"levinsonDurbin");export default class c{static{o(this,"SDAR")}constructor(s=1,h=.8){this._m=Math.random(),this._c=[];for(let i=0;i<s+1;i++)this._c.push(Math.random()/100);this._w=null,this._s=Math.random(),this._r=h,this._p=s,this._x=[]}_update(s){this._m=(1-this._r)*this._m+this._r*s;const h=this._c[this._c.length-1];this._c.unshift((1-this._r)*h+this._r*(s-this._m)**2),this._c.pop();const[i]=p(this._c,this._p);let n=0;for(let _=0;_<i.length&&_<this._x.length;_++)n-=i[_]*(this._x[this._x.length-_-1]-this._m);const t=n+this._m;return this._x.push(s),this._s=(1-this._r)*this._s+this._r*(s-t)**2,[Math.exp(-.5*(s-t)**2/this._s)/Math.sqrt(2*Math.PI*this._s),t]}probability(s){return s.map(h=>{const[i]=this._update(h);return i})}predict(s,h){for(let t=0;t<s.length-1;t++)this._update(s[t]);const i=[];let n=s[s.length-1];for(let t=0;t<h;t++){const[,_]=this._update(n);i.push(_),n=_}return i}}
