var w=Object.defineProperty;var l=(h,t)=>w(h,"name",{value:t,configurable:!0});import e from"../util/matrix.js";export default class a{static{l(this,"TukeyRegression")}constructor(t){this._e=t,this._w=null}fit(t,o){t=e.fromArray(t);const r=e.resize(t,t.rows,t.cols+1,1);o=e.fromArray(o),this._w||(this._w=r.tDot(r).solve(r.tDot(o)));const i=r.dot(this._w);i.sub(o),i.map(s=>Math.abs(s)<=this._e?((1-s**2)/this._e**2)**2:0);for(let s=0;s<this._w.cols;s++){const c=e.mult(r,i.col(s)),n=c.tDot(r).solve(c.tDot(o.col(s)));this._w.set(0,s,n)}}predict(t){return t=e.fromArray(t),e.resize(t,t.rows,t.cols+1,1).dot(this._w).toArray()}}
