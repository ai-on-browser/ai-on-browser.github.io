import Layer from"./base.js";import Matrix from"../../util/matrix.js";export default class CondLayer extends Layer{calc(...t){this._cond=t[0];const o=t[1],r=t[2];return this._o=new Matrix(this._cond.rows,this._cond.cols),this._o.map(((t,s)=>this._cond.at(s)?o.at(s):r.at(s))),this._o}grad(t){const o=[null,t.copy(),t.copy()];return this._cond.forEach(((t,r)=>t?o[2].set(r,0):o[1].set(r,0))),o}}CondLayer.registLayer();