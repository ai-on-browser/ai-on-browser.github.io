import Layer from"./base.js";import{Matrix}from"../../util/math.js";export default class CondLayer extends Layer{calc(...t){this._cond=t[0];const o=t[1],s=t[2];return this._o=new Matrix(this._cond.rows,this._cond.cols),this._o.map(((t,r)=>this._cond.at(...r)?o.at(...r):s.at(...r))),this._o}grad(t){const o=[null,t.copy(),t.copy()];return this._cond.forEach(((t,s)=>t?o[2].set(s,0):o[1].set(s,0))),o}}CondLayer.registLayer();