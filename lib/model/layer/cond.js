import Layer from"./base.js";import{Matrix}from"../../util/math.js";export default class CondLayer extends Layer{calc(...o){this._cond=o[0];const t=o[1],a=o[2];return this._o=new Matrix(this._cond.rows,this._cond.cols),this._o.map(((o,s)=>this._cond.value[s]?t.value[s]:a.value[s])),this._o}grad(o){const t=[null,o.copy(),o.copy()];return this._cond.forEach(((o,a)=>o?t[2].value[a]=0:t[1].value[a]=0)),t}}