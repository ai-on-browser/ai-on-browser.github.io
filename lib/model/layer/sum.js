import Layer from"./base.js";import{Matrix}from"../../util/math.js";export default class SumLayer extends Layer{constructor({axis:s=-1,...i}){super(i),this._axis=s}calc(s){return this._i=s,this._axis<0?new Matrix(1,1,s.sum()):s.sum(this._axis)}grad(s){return this._axis<0?new Matrix(this._i.rows,this._i.cols,s.value[0]):s.copyRepeat(this._i.sizes[this._axis],this._axis)}toObject(){return{type:"sum",axis:this._axis}}}SumLayer.registLayer();