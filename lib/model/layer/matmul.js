import Layer from"./base.js";export default class MatmulLayer extends Layer{calc(...t){this._i=t;let e=t[0];for(let l=1;l<t.length;l++)e=e.dot(t[l]);return e}grad(t){const e=[];for(let l=0;l<this._i.length;l++){let r=null;if(0===l)r=t;else{r=this._i[0];for(let t=1;t<l;t++)r=r.dot(this._i[t]);r=r.tDot(t)}for(let t=this._i.length-1;t>l;t--)r=r.dot(this._i[t].t);e.push(r)}return e}}