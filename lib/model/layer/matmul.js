import Layer from"./base.js";export default class MatmulLayer extends Layer{calc(...t){this._i=t;let e=t[0];for(let r=1;r<t.length;r++)e=e.dot(t[r]);return e}grad(t){const e=[];for(let r=0;r<this._i.length;r++){let l=null;if(0===r)l=t;else{l=this._i[0];for(let t=1;t<r;t++)l=l.dot(this._i[t]);l=l.tDot(t)}for(let t=this._i.length-1;t>r;t--)l=l.dot(this._i[t].t);e.push(l)}return e}}MatmulLayer.registLayer();