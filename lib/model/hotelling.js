import{Matrix}from"../util/math.js";export default class Hotelling{constructor(){this._Ri=null,this._mean=null,this._std=null}fit(t){if(0===t.length)return;const e=Matrix.fromArray(t);this._mean=e.mean(0),e.sub(this._mean);const l=e.cov(1);this._Ri=l.inv()}predict(t){const e=[];for(let l=0;l<t.length;l++){let n=0;const i=[];for(let e=0;e<t[l].length;e++)i[e]=t[l][e]-this._mean.value[e];for(let t=0;t<i.length;t++)for(let e=0;e<i.length;e++)n+=i[e]*this._Ri.at(e,t)*i[t];e.push(n/2)}return e}}