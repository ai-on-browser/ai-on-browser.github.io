export default class ZeroTruncatedPoisson{constructor(){this._lr=.1}fit(t){const a=t.reduce(((t,a)=>t+a),0)/t.length;let e=0;for(;;){const t=Math.exp(e),r=t/(1-Math.exp(-t));if(e+=this._lr*(a-r),Math.abs(a-r)<1e-8)break}this._lambda=Math.exp(e)}probability(t){return t.map((t=>{let a=1;for(let e=2;e<=t;e++)a*=e;return this._lambda**t/((Math.exp(this._lambda)-1)*a)}))}}