var u=Object.defineProperty;var p=(h,e)=>u(h,"name",{value:e,configurable:!0});import l from"./neuralnetwork.js";export default class c{static{p(this,"Autoencoder")}constructor(e,t,s,r,i){this._input_size=e,this._layers=[{type:"input",name:"in"},{type:"shape",name:"in_shape"},{type:"identity",input:"in"}],this._layers.push(...s),this._layers.push({type:"full",out_size:t,name:"reduce"},{type:"sparsity",rho:.02,beta:1}),this._layers.push(...r),this._layers.push({type:"full",out_size:"in_shape"}),this._model=l.fromObject(this._layers,"mse",i),this._epoch=0}get epoch(){return this._epoch}fit(e,t,s,r,i){const o=this._model.fit(e,e,t,s,r,{rho:i});return this._epoch+=t,o[0]}predict(e){return this._model.calc(e).toArray()}reduce(e){return this._model.calc(e,null,["reduce"]).reduce.toArray()}}
