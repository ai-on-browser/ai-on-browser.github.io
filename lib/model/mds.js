var j=Object.defineProperty;var u=(c,o)=>j(c,"name",{value:o,configurable:!0});import n from"../util/matrix.js";export default class k{static{u(this,"MDS")}predict(o,m=1,d=!1){o=n.fromArray(o);const p=o.cols,a=o.rows,r=new n(a,a);if(d)r.set(0,0,o);else for(let t=0;t<a;t++){r.set(t,t,0);for(let e=t+1;e<a;e++){let f=0;for(let l=0;l<p;l++)f+=(o.at(t,l)-o.at(e,l))**2;r.value[t*a+e]=r.value[e*a+t]=Math.sqrt(f)}}let s=n.map(r,t=>t**2);const v=s.mean(0),M=s.mean(1),b=s.mean();s.sub(v),s.sub(M),s.add(b),s.mult(-.5);const A=1e5,[h,i]=s.eigenJacobi(A);for(let t=0;t<a;t++)for(let e=0;e<m;e++)i.multAt(t,e,Math.sqrt(h[e]));return i.slice(0,m,1).toArray()}}
