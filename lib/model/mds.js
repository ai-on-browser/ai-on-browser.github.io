var j=Object.defineProperty;var d=(c,e)=>j(c,"name",{value:e,configurable:!0});import l from"../util/matrix.js";export default class k{static{d(this,"MDS")}constructor(e=null){this._rd=e}predict(e,h=!1){e=l.fromArray(e);const i=e.cols,r=e.rows,m=this._rd||i,a=new l(r,r);if(h)a.set(0,0,e);else for(let t=0;t<r;t++){a.set(t,t,0);for(let s=t+1;s<r;s++){let f=0;for(let n=0;n<i;n++)f+=(e.at(t,n)-e.at(s,n))**2;a.value[t*r+s]=a.value[s*r+t]=Math.sqrt(f)}}const o=l.map(a,t=>t**2),p=o.mean(0),v=o.mean(1),M=o.mean();o.sub(p),o.sub(v),o.add(M),o.mult(-.5);const b=1e5,[A,u]=o.eigenJacobi(b);for(let t=0;t<r;t++)for(let s=0;s<m;s++)u.multAt(t,s,Math.sqrt(A[s]));return u.slice(0,m,1).toArray()}}
