var l=Object.defineProperty;var _=(c,t)=>l(c,"name",{value:t,configurable:!0});import m from"./sdar.js";export default class p{static{_(this,"ChangeFinder")}constructor(t=1,h=.5,o=10){this._p=t,this._r=h,this._smooth=o,this._t=2}_smoothing(t,h){const o=[];for(let s=0;s<t.length;s++){let e=0;const r=Math.min(s+1,h);for(let i=s;i>s-r;i--)e+=t[i];o.push(e/r)}return o}fit(t){const o=new m(this._p,this._r).probability(t).map(n=>-Math.log(n)),s=this._smoothing(o,this._smooth),r=new m(this._p,this._r).probability(s).map(n=>-Math.log(n)),i=this._smoothing(r,this._smooth*this._t);this._score=i}predict(){return this._score}}
