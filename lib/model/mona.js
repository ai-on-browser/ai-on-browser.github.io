var p=Object.defineProperty;var g=(f,s)=>p(f,"name",{value:s,configurable:!0});export default class m{static{g(this,"MONA")}constructor(){}get size(){return this._tree.leafs.length}init(s){this._x=s,this._tree={idx:this._x.map((h,e)=>e),children:[],get leafs(){return this.children.length===0?[this]:this.children.reduce((h,e)=>h.concat(e.leafs),[])}}}fit(){const s=this._tree.leafs,h=this._x[0].length;for(const e of s){let c=-1/0,r=-1;for(let t=0;t<h;t++){if(e.idx.every(i=>this._x[i][t]===this._x[e.idx[0]][t]))continue;let l=0;for(let i=0;i<h;i++){if(t===i)continue;let d=0,a=0,_=0,u=0;for(const n of e.idx)this._x[n][t]===1&&this._x[n][i]===1?d++:this._x[n][t]===1&&this._x[n][i]===0?a++:this._x[n][t]===0&&this._x[n][i]===1?_++:this._x[n][t]===0&&this._x[n][i]===0&&u++;l+=d*u-a*_}c<l&&(c=l,r=t)}if(r<0)continue;const o=e.idx.filter(t=>this._x[t][r]===0),x=e.idx.filter(t=>this._x[t][r]===1);o.length===0||x.length===0||(e.feature=r,e.children.push({idx:o,children:[],get leafs(){return this.children.length===0?[this]:this.children.reduce((t,l)=>t.concat(l.leafs),[])}},{idx:x,children:[],get leafs(){return this.children.length===0?[this]:this.children.reduce((t,l)=>t.concat(l.leafs),[])}}))}}predict(){const s=[],h=this._tree.leafs;for(let e=0;e<h.length;e++)for(const c of h[e].idx)s[c]=e;return s}}
