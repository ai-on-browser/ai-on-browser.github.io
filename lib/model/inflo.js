export default class INFLO{constructor(t){this._k=t}_distance(t,e){return Math.sqrt(t.reduce(((t,r,s)=>t+(r-e[s])**2),0))}predict(t){const e=t.length,r=[],s=[];for(let o=0;o<e;o++){r[o]=[],r[o][o]={d:0,i:o};for(let e=0;e<o;e++){const s=this._distance(t[o],t[e]);r[o][e]={d:s,i:e},r[e][o]={d:s,i:o}}s[o]=new Set}const o=[];for(let t=0;t<e;t++){r[t].sort(((t,e)=>t.d-e.d));for(let e=1;e<this._k+1;e++)s[t].add(r[t][e].i),s[r[t][e].i].add(t);o[t]=1/r[t][this._k].d}const d=[];for(let t=0;t<e;t++){d[t]=0;for(const e of s[t])d[t]+=o[e];d[t]/=s[t].size*o[t]}return d}}