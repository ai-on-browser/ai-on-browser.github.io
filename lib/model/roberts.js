export default class RobertsCross{constructor(t){this._threshold=t}_convolute(t,e){const l=[];for(let h=0;h<t.length;h++){l[h]=[];for(let o=0;o<t[h].length;o++){let r=0;for(let l=0;l<e.length;l++){let n=h+l-Math.floor(e.length/2);n=Math.max(0,Math.min(t.length-1,n));for(let h=0;h<e[l].length;h++){let s=o+h-Math.floor(e[l].length/2);s=Math.max(0,Math.min(t[n].length-1,s)),r+=t[n][s]*e[l][h]}}l[h][o]=r}}return l}predict(t){const e=this._convolute(t,[[0,1],[-1,0]]),l=this._convolute(t,[[1,0],[0,-1]]),h=[];for(let t=0;t<e.length;t++){h[t]=[];for(let o=0;o<e[t].length;o++)h[t][o]=Math.sqrt(e[t][o]**2+l[t][o]**2)>this._threshold}return h}}