var c=Object.defineProperty;var l=(n,t)=>c(n,"name",{value:t,configurable:!0});export default class _{static{l(this,"SoftKMeans")}constructor(t=1){this._beta=t,this._c=[]}_distance(t,s){return Math.sqrt(t.reduce((e,h,i)=>e+(h-s[i])**2,0))}init(t){this._x=t}add(){let t=null;for(;;){const s=Math.floor(Math.random()*this._x.length);if(t=this._x[s],this._c.every(e=>this._distance(t,e)>0))break}this._c.push(t.concat())}_responsibility(){const t=[];for(let s=0;s<this._x.length;s++){let e=0;const h=[];for(let i=0;i<this._c.length;i++)h[i]=Math.exp(-this._beta*this._distance(this._c[i],this._x[s])),e+=h[i];t.push(h.map(i=>i/e))}return t}fit(){const t=this._responsibility();for(let s=0;s<this._c.length;s++){const e=Array(this._c[s].length).fill(0);let h=0;for(let i=0;i<t.length;i++){for(let r=0;r<this._x[i].length;r++)e[r]+=t[i][s]*this._x[i][r];h+=t[i][s]}this._c[s]=e.map(i=>i/h)}}predict(){return this._responsibility()}}
