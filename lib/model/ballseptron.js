export default class Ballseptron{constructor(t){this._r=t,this._w=null,this._c=0}fit(t,s){this._w||(this._w=Array(t[0].length).fill(0));for(let h=0;h<t.length;h++){const i=t[h].reduce(((t,s,h)=>t+s*this._w[h]),this._c);if(i*s[h]<=0){for(let i=0;i<t[h].length;i++)this._w[i]+=s[h]*t[h][i];this._c+=s[h]}else{const e=Math.sqrt(this._w.reduce(((t,s)=>t+s**2),this._c**2));if(i*s[h]/e<this._r){for(let i=0;i<t[h].length;i++)this._w[i]+=s[h]*(t[h][i]-s[h]*this._r*this._w[i]/e);this._c+=s[h]*(1-s[h]*this._r*this._c/e)}}}}predict(t){const s=[];for(let h=0;h<t.length;h++){const i=t[h].reduce(((t,s,h)=>t+s*this._w[h]),this._c);s.push(i<=0?-1:1)}return s}}