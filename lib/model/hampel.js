export default class HampelFilter{constructor(t=3,e=3){this._k=t,this._th=e}_median(t){t.sort(((t,e)=>t-e));const e=t.length;return e%2==1?t[(e-1)/2]:(t[e/2]+t[e/2-1])/2}_predict(t){const e=[];for(let h=0;h<t.length;h++){const s=Math.max(0,h-this._k),n=Math.min(t.length-1,h+this._k),r=t.slice(s,n+1),i=this._median(r),a=1.4826*this._median(r.map((t=>Math.abs(t-i))));Math.abs(t[h]-i)>this._th*a?e.push(i):e.push(t[h])}return e}predict(t){const e=[];for(let h=0;h<t.length;h++)e[h]=[];for(let h=0;h<t[0].length;h++){const s=this._predict(t.map((t=>t[h])));for(let n=0;n<t.length;n++)e[n][h]=s[n]}return e}}