var y=Object.defineProperty;var r=(o,t)=>y(o,"name",{value:t,configurable:!0});const _=r((o,t,n,h,s,f)=>{const e=o/2,c=2*Math.PI/o;if(o>1){for(let l=0;l<e;l++){const I=Math.cos(l*c),b=-Math.sin(l*c),u=t[l+s],M=n[l+s],i=t[l+s+e],p=n[l+s+e];t[l+s]=u+i,n[l+s]=M+p,t[l+s+e]=(u-i)*I-(M-p)*b,n[l+s+e]=(M-p)*I+(u-i)*b}_(o/2,t,n,2*h,s,f),_(o/2,t,n,2*h,s+e,f+h)}else s>f&&([t[s],t[f]]=[t[f],t[s]],[n[s],n[f]]=[n[f],n[s]])},"f"),g=r((o,t=null)=>{const n=o.length;if(!Number.isInteger(Math.log2(n)))throw"Invalid value length.";return t||(t=Array(n).fill(0)),_(n,o,t,1,0,0),[o,t]},"fft"),A=r((o,t)=>(t=t.map(n=>-n),g(o,t),o=o.map(n=>n/o.length),t=t.map(n=>-n/o.length),[o,t]),"ifft"),w=r((o,t=null)=>{const n=o.length;t||(t=Array(n).fill(0));const h=Array(n).fill(0),s=Array(n).fill(0),f=-2*Math.PI/n;for(let e=0;e<n;e++)for(let c=0;c<n;c++)h[e]+=o[c]*Math.cos(c*e*f)-t[c]*Math.sin(c*e*f),s[e]+=o[c]*Math.sin(c*e*f)+t[c]*Math.cos(c*e*f);return[h,s]},"dft"),a=r((o,t)=>{t=t.map(s=>-s);let[n,h]=w(o,t);return n=n.map(s=>s/o.length),h=h.map(s=>-s/o.length),[n,h]},"idft"),N=r((o,t=null)=>{const n=o.length;return Number.isInteger(Math.log2(n))?g(o,t):w(o,t)},"ft"),v=r((o,t)=>{const n=o.length;return Number.isInteger(Math.log2(n))?A(o,t):a(o,t)},"ift");export default class P{static{r(this,"ButterworthFilter")}constructor(t=2,n=.5){this._c=n,this._n=t}_cutoff(t,n,h,s){const f=Math.sqrt(1+(t/n)**(2*this._n));return[h/f,s/f]}predict(t){const[n,h]=N(t),s=t.length/2,f=Math.floor(s*(1-this._c));for(let c=1;c<=s;c++)[n[c],h[c]]=this._cutoff(c,f,n[c],h[c]),c!==s&&([n[t.length-c],h[t.length-c]]=this._cutoff(c,f,n[t.length-c],h[t.length-c]));const[e]=v(n,h);return e}}
