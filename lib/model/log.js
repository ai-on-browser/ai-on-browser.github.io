export default class LoG{constructor(t){this._threshold=t,this._k=5,this._s=3}_convolute(t,e){const l=[];for(let h=0;h<t.length;h++){l[h]=[];for(let o=0;o<t[h].length;o++){let n=0;for(let l=0;l<e.length;l++){let r=h+l-Math.floor(e.length/2);r=Math.max(0,Math.min(t.length-1,r));for(let h=0;h<e[l].length;h++){let g=o+h-Math.floor(e[l].length/2);g=Math.max(0,Math.min(t[r].length-1,g)),n+=t[r][g]*e[l][h]}}l[h][o]=n}}return l}predict(t){for(let e=0;e<t.length;e++)for(let l=0;l<t[e].length;l++){let h=t[e][l].reduce(((t,e)=>t+e),0)/t[e][l].length;t[e][l]=h}const e=this._convolute(t,[[0,0,1,0,0],[0,1,2,1,0],[1,2,-16,2,1],[0,1,2,1,0],[0,0,1,0,0]]),l=[];for(let t=0;t<e.length;t++){l[t]=[];for(let h=0;h<e[t].length;h++)l[t][h]=e[t][h]>this._threshold}return l}}